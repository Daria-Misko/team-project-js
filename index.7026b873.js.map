{"mappings":"AAecA,eAACC,IACX,MAAMC,QAAqBC,MACvB,0GAEEC,QAAmBF,EAAaG,OACtC,IAAIC,QAAEA,GAAYF,EAIlB,OAAOE,C,CCrBX,MAAMC,EAAiBC,SAASC,cAAc,iBACxCC,EAAgBF,SAASC,cAAc,sBACvCE,EAAiBH,SAASC,cAAc,mBA6BtC,SAASG,EAAiBC,GAC9B,GAAIF,EAAeG,UAAUC,SAAS,sBAElC,GADAJ,EAAeG,UAAUE,OAAO,sBAC5BH,EAAcI,OAAS,GACvBP,EAAcQ,WAAWC,YAAcN,MAEtC,CACD,MAAMO,EAAgB,GAAGP,EAAcQ,MAAM,EAAG,SAChDX,EAAcQ,WAAWC,YAAcC,C,MAGvCE,OAAOC,WAAW,sBAAsBC,UACxCd,EAAcQ,WAAWC,YAAc,cAEvCG,OAAOC,WAAW,sBAAsBC,UACxCd,EAAcQ,WAAWC,YAAc,S,CAKnD,SAASM,EAAgBrB,GACrB,OAAOA,EAAWsB,KAAI,EAACC,QAAEA,EAAOC,aAAEA,KACvB,uFAEQC,EAAQF,MAAYC,kCAEpCE,KAAK,I,CAGZ,SAASC,EAAiB3B,GACtB,OAAOA,EAAWsB,KAAI,EAACC,QAAEA,EAAOC,aAAEA,KACvB,0FACyCC,EAAQF,gBACtDC,8BAEHE,KAAK,I,CAGZ,SAASE,EAAc5B,EAAY6B,GACjC,MAAMC,EAAiB,GAGvB,OAFAA,EAAeC,KAAK/B,EAAWiB,MAAM,EAAGY,IACxCC,EAAeC,KAAK/B,EAAWiB,MAAMY,IAC9BC,C,CAGT,SAASL,EAAQO,GACb,OAAOC,mBAAmBD,E,CC7E9B,MAAME,EAAiB9B,SAASC,cAAc,iBACxC8B,EAAgB/B,SAASC,cAAc,sBACvC+B,EAAiBhC,SAASC,cAAc,mBACxCgC,EAAqBjC,SAASC,cAAc,gBDC1CT,eAAgC0C,GACpC,IACI,MACMtC,QADsBH,IAM5B,GAJIqB,OAAOC,WAAW,sBAAsBC,UACxCjB,EAAeoC,UAAY,GAC3BD,EAAeC,UAAYlB,EAAgBrB,IAE3CkB,OAAOC,WAAW,8CAA8CC,QAAS,CACzEjB,EAAeoC,UAAY,GAC3B,MAAMT,EAAiBF,EAAc5B,EAAY,GACjDsC,EAAeC,UAAYlB,EAAgBS,EAAe,IAC1D3B,EAAeqC,mBAAmB,YAC9Bb,EAAiBG,EAAe,I,CAExC,GAAIZ,OAAOC,WAAW,uBAAuBC,QAAS,CAClDjB,EAAeoC,UAAY,GAC3B,MAAMT,EAAiBF,EAAc5B,EAAY,GACjDsC,EAAeC,UAAYlB,EAAgBS,EAAe,IAC1D3B,EAAeqC,mBAAmB,YAC9Bb,EAAiBG,EAAe,I,EAE1C,MACEW,QAAQC,IAAIC,M,ECtBpB,CAAiBP,GACjB5B,IAEA0B,EAAeU,iBAAiB,SAiChC,SAAyBC,GACvB,MAAMC,EAAwBD,EAAME,OAAOC,QAAQC,IACnDR,QAAQC,IAAII,E,IAlCdX,EAAcS,iBAAiB,SAG/B,WACI,MAAMM,EAC8C,SAAhDf,EAAcgB,aAAa,mBAA+B,EAC9DhB,EAAciB,aAAa,iBAAkBF,GAC7Cd,EAAe1B,UAAU2C,OAAO,sBAC5BjB,EAAe1B,UAAUC,SAAS,uBAClC0B,EAAmB3B,UAAU4C,IAAI,mBAEhClB,EAAe1B,UAAUC,SAAS,wBACnC0B,EAAmB3B,UAAUE,OAAO,mBACpCuB,EAAcoB,O,IAZtBnB,EAAeQ,iBAAiB,SAqChC,SAA0BC,GACxB,MAAMC,EAAwBD,EAAME,OAAOC,QAAQC,IAC7CO,EAAqBX,EAAME,OAAOU,UACxChB,QAAQC,IAAII,GAIZtC,EAAiBkD,mBAAmBF,IACpCpB,EAAe1B,UAAUE,OAAO,sBAEhCyB,EAAmB3B,UAAU4C,IAAI,mBACjCnB,EAAcwB,O,IAhChBzC,OAAO0C,QAAUf,IACVA,EAAME,OAAO3B,QAAQ,mBACnByB,EAAME,OAAO3B,QAAQ,cACpBgB,EAAe1B,UAAUC,SAAS,uBACpCyB,EAAe1B,UAAUE,OAAO,sBAIjCiC,EAAME,OAAO3B,QAAQ,mBACpBiB,EAAmB3B,UAAUC,SAAS,oBACxC0B,EAAmB3B,UAAUE,OAAO,kB","sources":["src/js/api/fetchApi.js","src/js/markupCategoriesFilter.js","src/js/showCategories.js"],"sourcesContent":["import axios from \"axios\";\r\nconst KEY = 'api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\r\nconst BASE_URL = 'https://api.nytimes.com/svc';\r\nconst MOST_POPULAR_NEWS = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?${KEY}`;\r\n\r\n// Пошук популярних новин\r\nasync function getPopularArticle() {\r\n    const articleFetch = await fetch(MOST_POPULAR_NEWS);\r\n    const articles = await articleFetch.json();\r\n    let { results } = articles;\r\n    // console.log(results);\r\n    return results;\r\n}\r\n\r\n// Пошук категорій\r\nasync function getCategoryList() {\r\n    const categoryList = await fetch(\r\n        `${BASE_URL}/news/v3/content/section-list.json?${KEY}`\r\n    );\r\n    const categories = await categoryList.json();\r\n    let { results } = categories;\r\n\r\n    // console.log(results);\r\n\r\n    return results;\r\n}\r\n\r\n\r\n// Пошук за запитом по Search\r\nlet sumPage;\r\nasync function getSearchArticle(value, page) {\r\n    let dateForUrl = '';\r\n    try {\r\n        let date = JSON.parse(localStorage.getItem('date'))\r\n            .replace('/', '')\r\n            .replace('/', '');\r\n        // console.log(date);\r\n        dateForUrl = `&begin_date=${date}&end_date=${date}`;\r\n    } catch (error) {\r\n        // dateForUrl = '';\r\n    }\r\n    const articleFetch = await fetch(\r\n        `${BASE_URL}/search/v2/articlesearch.json?q=${value}&${KEY}&page=${page}${dateForUrl}`\r\n    );\r\n    const articles = await articleFetch.json();\r\n\r\n    let { response, errors } = articles;\r\n\r\n    if (errors) {\r\n        alert(JSON.parse(errors));\r\n        return;\r\n    }\r\n\r\n    if (response.meta.hits > 1000) {\r\n        sumPage = 1000;\r\n    } else {\r\n        sumPage = response.meta.hits;\r\n    }\r\n    // console.log(response.meta.hits);\r\n    let { docs } = response;\r\n    // console.log(docs);\r\n\r\n    return docs;\r\n}\r\n\r\nasync function getArticleByCategory(value) {\r\n    try {\r\n        let newValue = encodeURIComponent(value);\r\n\r\n        const articleFetch = await fetch(\r\n            `${BASE_URL}/news/v3/content/all/${newValue}.json?${KEY}&limit=30`\r\n        );\r\n\r\n        const articles = await articleFetch.json();\r\n\r\n        let { results } = articles;\r\n\r\n        console.log(results);\r\n        return results;\r\n    } catch (error) {\r\n        console.log('Ooops we have a problem');\r\n    }\r\n}\r\n\r\n\r\n\r\nexport {\r\n    getCategoryList,\r\n    getPopularArticle,\r\n    getArticleByCategory,\r\n    getSearchArticle,\r\n    sumPage,\r\n};\r\n\r\n// !!!Виклики функцій працюють\r\n// getPopularArticle();\r\n// getCategoryList();\r\n// для getArticleByCategory вввести значення з масиву getCategoryList() \"name\";\r\n// getArticleByCategory(\"books\");\r\n// getSearchArticle(\"chatgpt\", 1);\r\n","import { getCategoryList } from './api/fetchApi.js';\n\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\n\n export async function markupCategories(categoriesMenu) {\n    try {\n        const getCategories = await getCategoryList();\n        const categories = getCategories;\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesList.innerHTML = '';\n            categoriesMenu.innerHTML = renderingOthers(categories);\n        }\n        if (window.matchMedia('(min-width: 768px) and (max-width: 1279px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 4);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n        if (window.matchMedia('(min-width: 1280px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 6);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n    } catch {\n        console.log(error);\n    }\n};\n\n export function markupNameButton(currentButton) {\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n        if (currentButton.length < 18) {\n            categoriesBtn.firstChild.textContent = currentButton;\n        }\n        else {\n            const newNameButton = `${currentButton.slice(0, 15)}...`\n            categoriesBtn.firstChild.textContent = newNameButton;\n        }\n    } else {\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Categories';\n        }\n        if (window.matchMedia('(min-width: 768px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Others';\n        }\n    }\n};\n\nfunction renderingOthers(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=${encoded(section)}>${display_name}</button>\n            </li>`;\n    }).join(' ');\n};\n\nfunction renderingButtons(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=${encoded(section)}>\n        ${display_name}</button>\n        </li>`;\n    }).join(' ');\n}\n\nfunction divideArrNews(categories, count) {\n  const categoriesArrs = [];\n  categoriesArrs.push(categories.slice(0, count));\n  categoriesArrs.push(categories.slice(count));\n  return categoriesArrs;\n};\n\nfunction encoded(string) {\n    return encodeURIComponent(string);\n};\n","import { markupCategories, markupNameButton } from './markupCategoriesFilter.js';\n// import { cardMarkup } from './cardMarkup.js';\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\nconst arrowBtnCategories = document.querySelector('.arrow-icon');\n\nmarkupCategories(categoriesMenu);\nmarkupNameButton();\n\ncategoriesList.addEventListener('click', onSearchNewsBtn);\ncategoriesBtn.addEventListener('click', onToggleCategoriesMenu);\ncategoriesMenu.addEventListener('click', onSearchNewsMenu);\n\nfunction onToggleCategoriesMenu() {\n    const isMenuOpen = \n        categoriesBtn.getAttribute('aria-expanded') === 'true' || false;\n    categoriesBtn.setAttribute('aria-expanded', !isMenuOpen);\n    categoriesMenu.classList.toggle('is-open-categories');\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.add('open-categories');\n    }\n    if (!categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.remove('open-categories');\n        categoriesBtn.blur();\n    }\n};\n\nwindow.onclick = event => {\n  if (!event.target.matches('.category__btn')) {\n    if (!event.target.matches('.btn-item')) {\n      if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n      }\n    }\n  }\n  if (!event.target.matches('.category__btn')) {\n    if (arrowBtnCategories.classList.contains('open-categories')) {\n      arrowBtnCategories.classList.remove('open-categories');\n    }\n  }\n};\n\nfunction onSearchNewsBtn(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  console.log(currentButtonCategory);\n  // cardMarkup(currentButtonCategory);\n};\n\nfunction onSearchNewsMenu(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  const currentButtonValue = event.target.innerText;\n  console.log(currentButtonCategory);\n  // cardMarkup(currentButtonCategory);\n \n\n  markupNameButton(decodeURIComponent(currentButtonValue));\n  categoriesMenu.classList.remove('is-open-categories');\n\n  arrowBtnCategories.classList.add('open-categories');\n  categoriesBtn.focus();\n}\n"],"names":["async","$79e81cc842297628$export$97875efe23d1d9ba","categoryList","fetch","categories","json","results","$218221d0028bb1de$var$categoriesList","document","querySelector","$218221d0028bb1de$var$categoriesBtn","$218221d0028bb1de$var$categoriesMenu","$218221d0028bb1de$export$dd65ee2fe100f391","currentButton","classList","contains","remove","length","firstChild","textContent","newNameButton","slice","window","matchMedia","matches","$218221d0028bb1de$var$renderingOthers","map","section","display_name","$218221d0028bb1de$var$encoded","join","$218221d0028bb1de$var$renderingButtons","$218221d0028bb1de$var$divideArrNews","count","categoriesArrs","push","string","encodeURIComponent","$623dea5653ffed06$var$categoriesList","$623dea5653ffed06$var$categoriesBtn","$623dea5653ffed06$var$categoriesMenu","$623dea5653ffed06$var$arrowBtnCategories","categoriesMenu1","innerHTML","insertAdjacentHTML","console","log","error","addEventListener","event","currentButtonCategory","target","dataset","btn","isMenuOpen","getAttribute","setAttribute","toggle","add","blur","currentButtonValue","innerText","decodeURIComponent","focus","onclick"],"version":3,"file":"index.7026b873.js.map"}