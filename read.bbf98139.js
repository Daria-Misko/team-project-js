!function(){function n(n){var e=[];return n in localStorage&&null!==localStorage[n]&&(e=JSON.parse(localStorage[n])),e}function e(n,e){localStorage[n]=JSON.stringify(e)}function a(a,t){var r=n(a);r.push(t),e(a,r)}function t(a,t){e(a,n(a).filter((function(n){return!t(n)})))}function r(e,a){return n(e).some(a)}var c="favorite-key",d="read-key";function i(n){return n.toLocaleDateString("en-GB")}function s(n){"response"in n&&"docs"in n.response&&(n=n.response.docs);var e=(n=n||[]).map((function(n){var e=n.headline,s=n.web_url,o=n.pub_date,l=n.lead_paragraph,u=n.news_desk,_=(n.bigMobileImg,n.smallMobileImg,n.smallSquareImg,n.bigSquareImg),v=l.length>80?l.slice(0,80)+"...":l,p=r(c,(function(n){return n.web_url==s})),m=r(d,(function(n){return n.web_url==s})),b=i(new Date(o)),f=_||"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",h=document.createElement("li");h.classList.add("card__item"),h.innerHTML='<div class="card__wrapper">\n    <div>\n      <div class="card-image__wrapper">\n        <img\n          class="card__image"\n          src='.concat(f,'\n          alt="news"\n          width="288"\n          height="395"\n          loading=\'lazy\'\n        />\n        <span class="card-jobsearching"> ').concat(u,' </span>\n        <span class="card-already__read ').concat(m?"":"is-hidden",'">Already read</span>\n        <button class="card__btn btn-add ').concat(p?"is-hidden":"",'" type="button" \n        data-url="').concat(s,'">Add to favorite</button>\n        <button class="card__btn btn-remove ').concat(p?"":"is-hidden",'" type="button" data-url="').concat(s,'">Remove from favorite</button>\n      </div>\n\n      <div class="card__text">\n      <h2 class="card__title">').concat(e,'</h2>\n      <p class="card__article">').concat(v,'</p>\n      </div>\n      </div>\n\n      <div class="card__info">\n        <span class="card__info--date">').concat(b,'</span>\n        <a class="card__info--readmore" href="').concat(s,'" target="_blank">\n          Read more\n        </a>\n      </div>\n    </div>');var g=h.querySelector("button.card__btn.btn-add"),w=h.querySelector("button.card__btn.btn-remove"),y=h.querySelector(".card-already__read"),L=h.querySelector("a.card__info--readmore");return g.addEventListener("click",(function(){a(c,n),g.classList.add("is-hidden"),w.classList.remove("is-hidden")})),w.addEventListener("click",(function(){t(c,(function(n){var e=n.web_url;return s===e})),w.classList.add("is-hidden"),g.classList.remove("is-hidden")})),L.addEventListener("click",(function(){t(d,(function(n){var e=n.web_url;return s===e})),n.readDate=i(new Date),a(d,n),y.classList.remove("is-hidden")})),h})),s=document.createElement("li");s.classList.add("card__item"),s.innerHTML='<div class="card__item--weather"></div>';var o=window.innerWidth;o>=768&&o<1280?e.splice(1,0,s):o>=1280?e.splice(2,0,s):e.splice(0,0,s);var l=document.createDocumentFragment();return e.forEach((function(n){return l.appendChild(n)})),l}function s(n){"response"in n&&"docs"in n.response&&(n=n.response.docs);var e=(n=n||[]).map((function(n){var e=n.headline,s=n.web_url,o=n.pub_date,l=n.lead_paragraph,u=n.news_desk,_=(n.bigMobileImg,n.smallMobileImg,n.smallSquareImg,n.bigSquareImg),v=l.length>80?l.slice(0,80)+"...":l,p=r(c,(function(n){return n.web_url==s})),m=r(d,(function(n){return n.web_url==s})),b=i(new Date(o)),f=_||"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",h=document.createElement("li");h.classList.add("card__item"),h.innerHTML='<div class="card__wrapper">\n    <div>\n      <div class="card-image__wrapper">\n        <img\n          class="card__image"\n          src='.concat(f,'\n          alt="news"\n          width="288"\n          height="395"\n          loading=\'lazy\'\n        />\n        <span class="card-jobsearching"> ').concat(u,' </span>\n        <span class="card-already__read ').concat(m?"":"is-hidden",'">Already read</span>\n        <button class="card__btn btn-add ').concat(p?"is-hidden":"",'" type="button" \n        data-url="').concat(s,'">Add to favorite</button>\n        <button class="card__btn btn-remove ').concat(p?"":"is-hidden",'" type="button" data-url="').concat(s,'">Remove from favorite</button>\n      </div>\n\n      <div class="card__text">\n      <h2 class="card__title">').concat(e,'</h2>\n      <p class="card__article">').concat(v,'</p>\n      </div>\n      </div>\n\n      <div class="card__info">\n        <span class="card__info--date">').concat(b,'</span>\n        <a class="card__info--readmore" href="').concat(s,'" target="_blank">\n          Read more\n        </a>\n      </div>\n    </div>');var g=h.querySelector("button.card__btn.btn-add"),w=h.querySelector("button.card__btn.btn-remove"),y=h.querySelector(".card-already__read"),L=h.querySelector("a.card__info--readmore");return g.addEventListener("click",(function(){a(c,n),g.classList.add("is-hidden"),w.classList.remove("is-hidden")})),w.addEventListener("click",(function(){t(c,(function(n){var e=n.web_url;return s===e})),w.classList.add("is-hidden"),g.classList.remove("is-hidden")})),L.addEventListener("click",(function(){t(d,(function(n){var e=n.web_url;return s===e})),n.readDate=i(new Date),a(d,n),y.classList.remove("is-hidden")})),h})),s=document.createDocumentFragment();return e.forEach((function(n){return s.appendChild(n)})),s}function o(n){n.target.nextElementSibling.classList.toggle("hidden"),n.target.classList.toggle("hidden")}!function(){var e,a=document.querySelector(".read-news__container"),t=n("read-key"),r=(e="readDate",t.reduce((function(n,a){var t=a[e];return n[t]||(n[t]=[]),n[t].push(a),n}),{})),c=!0,d=!1,i=void 0;try{for(var l,u=Object.keys(r)[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var _=l.value,v=document.createElement("div");v.classList.add("read-news__header","hidden"),v.innerHTML=_,v.addEventListener("click",o),a.appendChild(v);var p=document.createElement("div");p.classList.add("read-news__items","hidden"),p.appendChild(s(r[_])),a.appendChild(p)}}catch(n){d=!0,i=n}finally{try{c||null==u.return||u.return()}finally{if(d)throw i}}}()}();
//# sourceMappingURL=read.bbf98139.js.map
