{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,cAiBAC,iBACC,MAAMC,QAAiBC,MAAM,sGACvBC,QAAaF,EAASG,QACtBC,QAAEA,GAAYF,EACdG,EAAiB,GAEvBC,QAAQC,IAAIH,GACZ,MAAMI,EAAQJ,EAAQ,GAAGK,MAAM,GAAG,kBAAkB,GAAGC,IAwBvD,OAvBAJ,QAAQC,IAAIC,GAIKJ,EAAQO,KAAI,EAACC,MAAEA,EAAOF,IAAAG,EAAGC,eAAEA,EAAcC,SAAEA,EAAQC,QAAEA,EAAOC,GAAEA,MAG9E,MAAMC,EAAU,CAChBC,SAAUP,EACVQ,QAASP,EACLQ,SAAUP,EACVQ,eAAgBP,EAChBQ,UAAWP,EACXQ,aAAc,8IAIdP,GAAIA,GAGRZ,EAAeoB,KAAKP,EAAQ,IAE7BZ,QAAQC,IAAIF,GACLA,C,EAIRqB,GAAyBC,MAAKC,IAChBC,SAASC,cAAc,2BAC/BC,iBAAgB,EAAAlC,EAAAmC,SAAWJ,KAChC,EAAAK,EAAAC,cAAa","sources":["src/js/getPopularNews.js"],"sourcesContent":["import cardMarkup from \"./cardMarkup\";\nimport {initWeather} from './weather'\n\nconst apiKey = '3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\nconst url = `https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`\n\nasync function fetchNYTData() {\n  const response = await fetch(`https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`);\n  const data = await response.json();\n  if (data.status === 'OK') {\n\t  const articles = data.results;\n\t  return articles;\n  } else {\n    throw new Error(error.message);\n  }\n}\n\nasync function getMostPopularArticles() {\n\tconst response = await fetch(`https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`);\n\tconst data = await response.json();\n\tconst { results } = data;\n\tconst resultArticles = []\n\n\tconsole.log(results)\n\tconst image = results[0].media[0]['media-metadata'][2].url;\n\tconsole.log(image);\n\t// let metadata = 'media-metadata';\n\t// console.log(results[0].media[0]['media-metadata'][2].url);\n\n\tconst articles = results.map(({ title, url, published_date, abstract, section, id }) => {\n\t\t// const image = media[0]['media-metadata'][2].url;\n\t\t// console.log(image);\n\t\tconst article = {\n\t\theadline: title,\n\t\tweb_url: url, \n      pub_date: published_date,\n      lead_paragraph: abstract,\n      news_desk: section, \n      bigMobileImg: 'https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg',\n      // smallMobileImg: image,\n      // smallSquareImg: image,\n      // bigSquareImg: image,\n      id: id\n\t\t}\n\n\t\tresultArticles.push(article);\n  } ); \n\tconsole.log(resultArticles);\n\treturn resultArticles;\n\n}\n\ngetMostPopularArticles().then(res => {\n\tconst ulEl = document.querySelector('.popular-articles__list');\n\tulEl.replaceChildren(cardMarkup(res));\n\tinitWeather()\n})\n\n// getMostPopularArticles().then(res => {\n// \tconst ulEl = document.querySelector('.popular-articles__list');\n// \tconsole.log(ulEl);\n// \tulEl.insertAdjacentHTML('beforeend', cardMarkup(res));\n// })\n"],"names":["$eVqJU","parcelRequire","async","response","fetch","data","json","results","resultArticles","console","log","image","media","url","map","title","url1","published_date","abstract","section","id","article","headline","web_url","pub_date","lead_paragraph","news_desk","bigMobileImg","push","$1969fc547029a942$var$getMostPopularArticles","then","res","document","querySelector","replaceChildren","default","$bkgkh","initWeather"],"version":3,"file":"index.dbeb9431.js.map"}