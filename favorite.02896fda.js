function e(e){let n=[];return e in localStorage&&null!==localStorage[e]&&(n=JSON.parse(localStorage[e])),n}function n(e,n){localStorage[e]=JSON.stringify(n)}function a(a,t){const r=e(a);r.push(t),n(a,r)}function t(a,t){n(a,e(a).filter((e=>!t(e))))}function r(n,a){return e(n).some(a)}function d(e){return e.toLocaleDateString("en-GB")}function i(e){"response"in e&&"docs"in e.response&&(e=e.response.docs);const n=(e=e||[]).map((e=>{const{headline:n,web_url:i,pub_date:s,lead_paragraph:l,news_desk:c,bigMobileImg:o,smallMobileImg:u,smallSquareImg:_,bigSquareImg:p}=e,m=l.length>80?l.slice(0,80)+"...":l,g=r("favorite-key",(e=>e.web_url==i)),f=r("read-key",(e=>e.web_url==i)),v=d(new Date(s)),b=p||"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",h=document.createElement("li");h.classList.add("card__item"),h.innerHTML=`<div class="card__wrapper">\n    <div>\n      <div class="card-image__wrapper">\n        <img\n          class="card__image"\n          src=${b}\n          alt="news"\n          width="288"\n          height="395"\n          loading='lazy'\n        />\n        <span class="card-jobsearching"> ${c} </span>\n        <span class="card-already__read ${f?"":"is-hidden"}">Already read</span>\n        <button class="card__btn btn-add ${g?"is-hidden":""}" type="button" \n        data-url="${i}">Add to favorite</button>\n        <button class="card__btn btn-remove ${g?"":"is-hidden"}" type="button" data-url="${i}">Remove from favorite</button>\n      </div>\n\n      <div class="card__text">\n      <h2 class="card__title">${n}</h2>\n      <p class="card__article">${m}</p>\n      </div>\n      </div>\n\n      <div class="card__info">\n        <span class="card__info--date">${v}</span>\n        <a class="card__info--readmore" href="${i}" target="_blank">\n          Read more\n        </a>\n      </div>\n    </div>`;const y=h.querySelector("button.card__btn.btn-add"),S=h.querySelector("button.card__btn.btn-remove"),w=h.querySelector(".card-already__read"),k=h.querySelector("a.card__info--readmore");return y.addEventListener("click",(()=>{a("favorite-key",e),y.classList.add("is-hidden"),S.classList.remove("is-hidden")})),S.addEventListener("click",(()=>{t("favorite-key",(({web_url:e})=>i===e)),S.classList.add("is-hidden"),y.classList.remove("is-hidden")})),k.addEventListener("click",(()=>{t("read-key",(({web_url:e})=>i===e)),e.readDate=d(new Date),a("read-key",e),w.classList.remove("is-hidden")})),h})),i=document.createElement("li");i.classList.add("card__item"),i.innerHTML='<div class="card__item--weather"></div>';let s=window.innerWidth;s>=768&&s<1280?n.splice(1,0,i):s>=1280?n.splice(2,0,i):n.splice(0,0,i);const l=document.createDocumentFragment();return n.forEach((e=>l.appendChild(e))),l}const s=document.querySelector(".favorite-container"),l=document.querySelector(".favorite-not-found"),c=localStorage.getItem("favorite-key");let o=JSON.parse(c);s.replaceChildren(i(o)),s.addEventListener("click",(function(e){console.log(e.target.dataset.url);let n=e.target.dataset.url;o.map((e=>{if(e.web_url===n){const n=o.indexOf(e);o.splice(n,1),localStorage.setItem("favorite-key",JSON.stringify(o)),s.replaceChildren(i(o))}}))})),console.log(o===[]),0===o.length&&(console.log(1111),s.style.display="none",l.style.display="flex",l.querySelector(".underfined").classList.remove("underfined-hidden"));
//# sourceMappingURL=favorite.02896fda.js.map
