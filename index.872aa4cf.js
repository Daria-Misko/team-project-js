!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},s={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in s){var t=s[e];delete s[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){s[e]=t},t.parcelRequired7c6=r);var a=r("8nrFW"),d=r("7iFtI"),n=r("fMavV"),o=r("gpT04"),h=r("crlC9"),l=r("l16qp"),c="https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=".concat("3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv");var f,p,u,g={body:[],firstNews:0,lastNews:0,perPage:0,page:1,getPages:function(){return Math.ceil(this.body.length/this.perPage)},initOrderNews:function(){this.lastNews=this.perPage,this.firstNews=0},cutToLimitOrder:function(){this.page=this.getPages(),this.lastNews=this.body.length,this.firstNews=this.body.length-this.perPage},resetLimitOrder:function(){this.page=1,this.lastNews=this.perPage,this.firstNews=0},increasePage:function(){this.page+=1},decreasePage:function(){this.page-=1},increaseStep:function(){this.firstNews+=this.perPage,this.lastNews+=this.perPage},decreaseStep:function(){this.firstNews-=this.perPage,this.lastNews-=this.perPage},addToBody:function(t){this.body=e(a)(t)},sliceBody:function(){return this.body.slice(this.firstNews,this.lastNews)}};function w(e){var t=[];return e.map((function(e){var i=e.title,s=e.url,r=e.published_date,a=e.abstract,d=e.section,n=e.id,o=e.media,h={headline:i,web_url:s,pub_date:r,lead_paragraph:a,news_desk:d,bigSquareImg:o.length>0?o[0]["media-metadata"][2].url:"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",id:n};t.push(h)})),t}f=window.matchMedia("(min-width: 1280px)"),p=window.matchMedia("(min-width: 768px)"),u=window.matchMedia("(max-width: 767px)"),f.matches?g.perPage=8:p.matches?g.perPage=7:u.matches&&(g.perPage=4),g.initOrderNews(),(0,o.default)(c).then((function(e){var t=e.results;g.addToBody(t)})).then((function(){h.headerRefs.list.replaceChildren((0,d.default)(w(g.sliceBody()))),(0,n.initWeather)()})),h.headerRefs.nextArrow.addEventListener("click",(function(){0===g.firstNews&&g.resetLimitOrder();g.page<=g.getPages()?(g.increaseStep(),g.increasePage(),h.headerRefs.backArrow.removeAttribute("disabled"),h.headerRefs.list.replaceChildren((0,d.default)(w(g.sliceBody()))),(0,n.initWeather)()):g.page>g.getPages()&&(g.cutToLimitOrder(),h.headerRefs.nextArrow.setAttribute("disabled",!0));g.body.length-g.lastNews+g.perPage<g.perPage&&h.headerRefs.nextArrow.setAttribute("disabled",!0);(0,l.default)()})),h.headerRefs.backArrow.addEventListener("click",(function(){g.page>0&&(g.decreasePage(),g.decreaseStep(),h.headerRefs.nextArrow.removeAttribute("disabled"),h.headerRefs.list.replaceChildren((0,d.default)(w(g.sliceBody()))),(0,n.initWeather)());0!==g.page&&0!==g.firstNews||h.headerRefs.backArrow.setAttribute("disabled",!0);g.firstNews<0&&(g.firstNews=0);(0,l.default)()}))}();
//# sourceMappingURL=index.872aa4cf.js.map
