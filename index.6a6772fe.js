!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in i){var e=i[t];delete i[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){i[t]=e},e.parcelRequired7c6=r);var a=r("bpxeT"),s=r("2TvXO"),c=(r("bpxeT"),r("2TvXO"),a=r("bpxeT"),s=r("2TvXO"),"api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),o="https://api.nytimes.com/svc";"https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?".concat(c);function u(){return d.apply(this,arguments)}function d(){return(d=t(a)(t(s).mark((function e(){var n,i,r;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(o,"/news/v3/content/section-list.json?").concat(c));case 2:return n=t.sent,t.next=5,n.json();case 5:return i=t.sent,r=i.results,t.abrupt("return",r);case 8:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var l=document.querySelector(".buttons-list"),p=document.querySelector("#btn-open-category"),m=document.querySelector(".category__menu");function h(){return(h=t(a)(t(s).mark((function e(n){var i,r,a,c;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u();case 3:i=t.sent,r=i,window.matchMedia("(max-width: 767px)").matches&&(l.innerHTML="",n.innerHTML=v(r)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches&&(l.innerHTML="",a=w(r,4),n.innerHTML=v(a[1]),l.insertAdjacentHTML("beforeend",g(a[0]))),window.matchMedia("(min-width: 1280px)").matches&&(l.innerHTML="",c=w(r,6),n.innerHTML=v(c[1]),l.insertAdjacentHTML("beforeend",g(c[0]))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(error);case 13:case"end":return t.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function f(t){if(m.classList.contains("is-open-categories"))if(m.classList.remove("is-open-categories"),t.length<18)p.firstChild.textContent=t;else{var e="".concat(t.slice(0,15),"...");p.firstChild.textContent=e}else window.matchMedia("(max-width: 767px)").matches&&(p.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(p.firstChild.textContent="Others")}function v(t){return t.map((function(t){var e=t.section,n=t.display_name;return"<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=".concat(x(e),">").concat(n,"</button>\n            </li>")})).join(" ")}function g(t){return t.map((function(t){var e=t.section,n=t.display_name;return"<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=".concat(x(e),">\n        ").concat(n,"</button>\n        </li>")})).join(" ")}function w(t,e){var n=[];return n.push(t.slice(0,e)),n.push(t.slice(e)),n}function x(t){return encodeURIComponent(t)}var b=r("7iFtI"),y=r("fMavV"),_=r("crlC9"),L=document.querySelector(".buttons-list"),M=document.querySelector("#btn-open-category"),T=document.querySelector(".category__menu"),C=document.querySelector(".arrow-icon");!function(t){h.apply(this,arguments)}(T),f(),L.addEventListener("click",(function(t){_.default.paginator.innerHTML="",k(t.target.dataset.btn).then((function(t){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(t)),(0,y.initWeather)()}))})),M.addEventListener("click",(function(){var t="true"===M.getAttribute("aria-expanded")||!1;M.setAttribute("aria-expanded",!t),T.classList.toggle("is-open-categories"),T.classList.contains("is-open-categories")&&C.classList.add("open-categories");T.classList.contains("is-open-categories")||(C.classList.remove("open-categories"),M.blur())})),T.addEventListener("click",(function(t){var e=t.target.dataset.btn,n=t.target.innerText;k(e).then((function(t){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(t)),(0,y.initWeather)()})),f(decodeURIComponent(n)),T.classList.remove("is-open-categories"),C.classList.add("open-categories"),M.focus()})),window.onclick=function(t){t.target.matches(".category__btn")||t.target.matches(".btn-item")||T.classList.contains("is-open-categories")&&T.classList.remove("is-open-categories"),t.target.matches(".category__btn")||C.classList.contains("open-categories")&&C.classList.remove("open-categories")};var q="3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv";function k(t){return H.apply(this,arguments)}function H(){return(H=t(a)(t(s).mark((function e(n){var i,r,a,c,o;return t(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n,t.next=3,fetch("https://api.nytimes.com/svc/news/v3/content/nyt/".concat(i,".json?api-key=").concat(q));case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,c=a.results,o=[],c.map((function(t){var e=t.title,n=t.url,i=t.published_date,r=t.abstract,a=t.section,s=t.id,c=t.multimedia,u={headline:e,web_url:n,pub_date:i,lead_paragraph:r,news_desk:a,bigSquareImg:c?c[3].url:"https://as1.ftcdn.net/v2/jpg/00/77/50/78/500_F_77507884_B00iVspJkgxbh6o1JuKza9qYpioCZ9ja.jpg",id:s};o.push(u)})),o.length=j(),t.abrupt("return",o);case 12:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function j(){var t=window.matchMedia("(min-width: 1280px)"),e=window.matchMedia("(min-width: 768px)"),n=window.matchMedia("(max-width: 767px)");return t.matches?9:e.matches?6:n.matches?3:void 0}}();
//# sourceMappingURL=index.6a6772fe.js.map
