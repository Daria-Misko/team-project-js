{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAGMC,EAAS,mCACH,qEAA4EC,OAAPD,G,SAalEE,I,OAAAA,EAAfC,EAAAL,EAAA,CAAAK,EAAAC,GAAAC,MAAA,SAAAC,I,IACOC,EACAC,EACEC,EACFC,EAGAC,E,kFANiBC,MAAM,qEAA4EX,OAAPD,I,cAA5FO,EAAQM,EAAAC,K,SACKP,EAASQ,O,cAAtBP,EAAIK,EAAAC,KACJL,EAAcD,EAAZC,QACFC,EAAiB,GAEvBM,QAAQC,IAAIR,GACNE,EAAQF,EAAQ,GAAGS,MAAM,GAAG,kBAAkB,GAAGC,IACvDH,QAAQC,IAAIN,GAIKF,EAAQW,KAAI,SAAAC,G,IAGtBC,EAAU,CAChBC,SAJoCF,EAALG,MAK/BC,QALyCJ,EAAHF,IAMlCO,SANqDL,EAAdM,eAOvCC,eAP+DP,EAARQ,SAQvDC,UARwET,EAAPU,QASjEC,aAAc,8IAIdC,GAb4EZ,EAAFY,IAgB9EvB,EAAewB,KAAKZ,E,IAErBN,QAAQC,IAAIP,G,kBACLA,G,6CA/B6ByB,MAAAC,KAAAC,U,oBAAtBnC,EAAsBiC,MAAAC,KAAAC,U,EAmCrCC,GAAyBC,MAAK,SAAAC,GAChBC,SAASC,cAAc,2BAC/BC,iBAAgB,EAAAC,EAAAC,SAAWL,G","sources":["src/js/getPopularNews.js"],"sourcesContent":["import cardMarkup from \"./cardMarkup\";\n\n\nconst apiKey = '3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\nconst url = `https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`\n\nasync function fetchNYTData() {\n  const response = await fetch(`https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`);\n  const data = await response.json();\n  if (data.status === 'OK') {\n\t  const articles = data.results;\n\t  return articles;\n  } else {\n    throw new Error(error.message);\n  }\n}\n\nasync function getMostPopularArticles() {\n\tconst response = await fetch(`https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=${apiKey}`);\n\tconst data = await response.json();\n\tconst { results } = data;\n\tconst resultArticles = []\n\n\tconsole.log(results)\n\tconst image = results[0].media[0]['media-metadata'][2].url;\n\tconsole.log(image);\n\t// let metadata = 'media-metadata';\n\t// console.log(results[0].media[0]['media-metadata'][2].url);\n\n\tconst articles = results.map(({ title, url, published_date, abstract, section, id }) => {\n\t\t// const image = media[0]['media-metadata'][2].url;\n\t\t// console.log(image);\n\t\tconst article = {\n\t\theadline: title,\n\t\tweb_url: url, \n      pub_date: published_date,\n      lead_paragraph: abstract,\n      news_desk: section, \n      bigMobileImg: 'https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg',\n      // smallMobileImg: image,\n      // smallSquareImg: image,\n      // bigSquareImg: image,\n      id: id\n\t\t}\n\n\t\tresultArticles.push(article);\n  } ); \n\tconsole.log(resultArticles);\n\treturn resultArticles;\n\n}\n\ngetMostPopularArticles().then(res => {\n\tconst ulEl = document.querySelector('.popular-articles__list');\n\tulEl.replaceChildren(cardMarkup(res));\n})\n\n// getMostPopularArticles().then(res => {\n// \tconst ulEl = document.querySelector('.popular-articles__list');\n// \tconsole.log(ulEl);\n// \tulEl.insertAdjacentHTML('beforeend', cardMarkup(res));\n// })\n"],"names":["$bpxeT","parcelRequire","$9b12918259623da8$var$apiKey","concat","$9b12918259623da8$var$_getMostPopularArticles","$parcel$interopDefault","$2TvXO","mark","_callee","response","data","results","resultArticles","image","fetch","_ctx","sent","json","console","log","media","url","map","param","article","headline","title","web_url","pub_date","published_date","lead_paragraph","abstract","news_desk","section","bigMobileImg","id","push","apply","this","arguments","$9b12918259623da8$var$getMostPopularArticles","then","res","document","querySelector","replaceChildren","$7iFtI","default"],"version":3,"file":"index.0d21a3fd.js.map"}