{"mappings":"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","sources":["src/js/weather.js","src/js/showCategories.js","src/js/api/fetchApi.js","src/js/markupCategoriesFilter.js"],"sourcesContent":["\r\nconst apiKey = \"73bd6bca6bd522830119f0c6decba840\";\r\nconst KELVIN = 273;\r\n\r\nexport function initWeather() {\r\n\tconst weatherContainer = document.querySelector(\".card__item--weather\")\r\nweatherContainer.innerHTML = `<div class=\"weather-container__all\">\r\n  <div class=\"weather-container\">\r\n    <div class=\"weather-current__container\">\r\n      <div class=\"weather-top-card\">\r\n        <div class=\"temperature-value animate__animated animate__fadeInUp\">\r\n          <p></p>\r\n        </div>\r\n        <div class=\"description-wrapper\">\r\n          <div\r\n            class=\"temperature-description animate__animated animate__fadeInUp\"\r\n          >\r\n            <p>weather description</p>\r\n          </div>\r\n          <div class=\"location animate__animated animate__fadeInUp\">\r\n            <p>Location</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"weather-icon\">\r\n        <img\r\n          src=\"/src/images/svg/unknown.png\"\r\n          alt=\"\"\r\n          height=\"155\"\r\n          width=\"165\"\r\n        />\r\n      </div>\r\n      <div class=\"day animate__animated animate__fadeInUp\">\r\n        <p></p>\r\n      </div>\r\n      <div class=\"date animate__animated animate__fadeInUp\">\r\n        <p></p>\r\n      </div>\r\n      <div class=\"week-weather animate__animated animate__fadeInUp\">\r\n        <button class=\"weather-button\" type=\"button\">weather for week</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"weather-week__container\">\r\n    <div class=\"weather-week__list\">\r\n      <p>Weather for week</p>\r\n      <ul class=\"weather-week__forecast\">\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"date animate__animated animate__fadeInUp\">\r\n      <button class=\"weather-week-close-button\" type=\"button\">back</button>\r\n    </div>\r\n  </div>\r\n</div>`\r\n\r\n\r\nconst tempElement = document.querySelector(\".temperature-value p\");\r\nconst descElement = document.querySelector(\".temperature-description p\");\r\nconst locationElement = document.querySelector(\".location p\");\r\nconst iconElement = document.querySelector(\".weather-icon\");\r\nconst dayElement = document.querySelector(\".day p\");\r\nconst dateElement = document.querySelector(\".date p\");\r\nconst button = document.querySelector(\".weather-button\");\r\nconst weatherWeek = document.querySelector(\".weather-week__container\");\r\nconst weatherCurrent = document.querySelector(\".weather-current__container\");\r\nconst closeBtn = document.querySelector(\".weather-week-close-button\")\r\nconst weatherWeekDayForecast = document.querySelector(\".weather-week__forecast\")\r\n\r\nbutton.addEventListener('click', onClick)\r\ncloseBtn.addEventListener('click', onClose)\r\n\r\nconst date = new Date()\r\nlet currentdate = date.toLocaleDateString('en-gb', { day: \"numeric\", month: \"short\", year: \"numeric\" })\r\nconst weekday = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\r\nlet day = weekday[date.getDay()];\r\n\r\nconst weather = {\r\n\ttemperature: {\r\n\t\tvalue: \"\",\r\n\t\tunit: \"celsius\"\r\n\t},\r\n\tdescription: \"\",\r\n\ticonId: \"\",\r\n\tcity: \"\",\r\n\tcountry: \"\",\r\n\tday: `${date}`,\r\n\tdata: `${day}`\r\n};\r\n\r\ndayElement.insertAdjacentHTML('beforeend', `${day}`); \r\ndateElement.insertAdjacentHTML('beforeend', `${currentdate}`); \r\n\r\nif('geolocation' in navigator){\r\n    navigator.geolocation.getCurrentPosition(setPosition, showError);\r\n}else{\r\n    console.log(error);\r\n}\r\n\r\nfunction setPosition(position) {\r\n\tif (position && position.coords) {\r\n\t\tlet latitude = position.coords.latitude;\r\n\t\tlet longitude = position.coords.longitude;\r\n\r\n\t\tgetWeather(latitude, longitude);\r\n\t\tforecast(latitude, longitude);\r\n\t} else {\r\n\t\tconsole.log(\"Position data not available.\");\r\n\t}\r\n\r\n}\r\n\r\nfunction showError(error) {\r\n\tconsole.log(`nothing`);\r\n   //  notificationElement.style.display = \"block\";\r\n   //  notificationElement.innerHTML = `<p> ${error.message} </p>`;\r\n}\r\n\r\nfunction getWeather(latitude, longitude) {\r\n   let api = `http://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}`;\r\n    \r\n    fetch(api)\r\n        .then(function(response){\r\n            let data = response.json();\r\n\t\t\t  return data;\r\n        })\r\n\t\t .then(function (data) {\r\n\t\t\t// console.log(data);\r\n\t\t\tweather.temperature.value = Math.floor(data.main.temp - KELVIN);\r\n\t\t\tweather.description = data.weather[0].description;\r\n\t\t\tweather.iconId = data.weather[0].icon;\r\n\t\t\tweather.city = data.name;\r\n\t\t\tweather.country = data.sys.country;\r\n        })\r\n        .then(function(){\r\n            displayWeather();\r\n        });\r\n}\r\n\r\nfunction displayWeather() {\r\n   iconElement.innerHTML = `<img src=\"http://openweathermap.org/img/wn/${weather.iconId}@4x.png\" height= \"155\"\r\n\twidth= \"165\"/>`;\r\n   tempElement.insertAdjacentHTML('beforeend', `${weather.temperature.value}°`);\r\n   descElement.innerHTML = `${weather.description}`;\r\n\tlocationElement.innerHTML = `${weather.city}`;\r\n}\r\n\r\n\r\n\r\nfunction forecast(latitude, longitude) {\r\n\tconst newKey = 'ba7fddf449339701f9df702aeb87be1d'\r\n\tconst API_URL = `http://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${newKey}`;\r\n    \r\n\tfetch(API_URL)\r\n  .then(response => response.json())\r\n  .then(data => {\r\n\t  const dataArray = data.list;\r\n\t  const groupedData = {};\r\n\t  for (let i = 0; i < dataArray.length; i++) {\r\n      const date = dataArray[i].dt_txt.slice(0, 10);\r\n      if (!groupedData[date]) {\r\n\t\t\tgroupedData[date] = {\r\n\t\t\tdate: date,\r\n          minTemp: dataArray[i].main.temp,\r\n          maxTemp: dataArray[i].main.temp,\r\n          weather: dataArray[i].weather[0].description\r\n        };\r\n      } else {\r\n        if (dataArray[i].main.temp < groupedData[date].minTemp) {\r\n          groupedData[date].minTemp = dataArray[i].main.temp;\r\n        }\r\n        if (dataArray[i].main.temp > groupedData[date].maxTemp) {\r\n          groupedData[date].maxTemp = dataArray[i].main.temp;\r\n        }\r\n      }\r\n    }\r\n\t  console.log(groupedData);\r\n\r\n\t  const groupedDataPerDay = {\r\n  \"2022-03-05\": {\r\n    date: \"2022-03-05\",\r\n    minTemp: 5,\r\n    maxTemp: 10,\r\n    weather: \"Cloudy\"\r\n\t \r\n  },\r\n  \"2022-03-06\": {\r\n    date: \"2022-03-06\",\r\n    minTemp: 8,\r\n    maxTemp: 12,\r\n    weather: \"Rainy\"\r\n  }\r\n};\r\nweatherWeekDayForecast.innerHTML = '';\r\n// перебираємо ключі в об'єкті\r\n\t  Object.keys(groupedData).forEach(date => {\r\n\t\t  const data = groupedData[date];\r\n\t\t  const dateValue = data.date;\r\n\t\t  \r\n\t\t\tconst datePotoch = new Date(dateValue);\r\n\t\t\tconst formattedDate = datePotoch.toLocaleString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });\r\n\r\n  \t\t\tconst minTempValue = Math.floor(data.minTemp - KELVIN);\r\n  \t\t\tconst maxTempValue = Math.floor(data.maxTemp - KELVIN);\r\n\t\t  \tconst weatherValue = data.weather;\r\n  \r\n\t\t  \r\n\t\t//   console.log(`Дата: ${formattedDate}, Мінімальна температура: ${minTempValue}, Максимальна температура: ${maxTempValue}, Опис погоди: ${weatherValue}`);\r\n\t\t  \r\n\t\t  const listItem = document.createElement('li');\r\n\t\t  listItem.classList.add('weather-week__item')\r\n        listItem.innerHTML = `<span class=\"weather-week__value\">${formattedDate}</span>:<br> Min. temp: <span class=\"weather-week__value\">${minTempValue}</span>, Max. temp: <span class=\"weather-week__value\">${maxTempValue}</span><br> Descr.: <span class=\"weather-week__value\">${weatherValue}</span>`;\r\n        weatherWeekDayForecast.appendChild(listItem);\r\n\r\n});\r\n\r\n\t  \r\n\t  \r\n\t  \r\n  })  \r\n  .catch(error => console.log(error));\r\n\t}\r\n\r\n\tweatherWeek.classList.add('is-hidden');\r\n\r\nfunction onClick(e) {\r\n\te.preventDefault();\r\n\tweatherCurrent.classList.add('is-hidden');\r\n\tif (weatherWeek.classList.contains('is-hidden')) {\r\n\t\tweatherWeek.classList.remove('is-hidden')\r\n\t}\r\n}\r\n\r\nfunction onClose(e) {\r\n\te.preventDefault();\r\n\tweatherWeek.classList.add('is-hidden');\r\n\tif (weatherCurrent.classList.contains('is-hidden')) {\r\n\t\tweatherCurrent.classList.remove('is-hidden')\r\n\t}\r\n}\r\n}","import { markupCategories, markupNameButton } from './markupCategoriesFilter.js';\nimport cardMarkup from \"./cardMarkup\";\nimport {initWeather} from './weather'\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\nconst arrowBtnCategories = document.querySelector('.arrow-icon');\n\nmarkupCategories(categoriesMenu);\nmarkupNameButton();\n\ncategoriesList.addEventListener('click', onSearchNewsBtn);\ncategoriesBtn.addEventListener('click', onToggleCategoriesMenu);\ncategoriesMenu.addEventListener('click', onSearchNewsMenu);\n\nfunction onToggleCategoriesMenu() {\n    const isMenuOpen = \n        categoriesBtn.getAttribute('aria-expanded') === 'true' || false;\n    categoriesBtn.setAttribute('aria-expanded', !isMenuOpen);\n    categoriesMenu.classList.toggle('is-open-categories');\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.add('open-categories');\n    }\n    if (!categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.remove('open-categories');\n        categoriesBtn.blur();\n    }\n};\n\nwindow.onclick = event => {\n  if (!event.target.matches('.category__btn')) {\n    if (!event.target.matches('.btn-item')) {\n      if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n      }\n    }\n  }\n  if (!event.target.matches('.category__btn')) {\n    if (arrowBtnCategories.classList.contains('open-categories')) {\n      arrowBtnCategories.classList.remove('open-categories');\n    }\n  }\n};\n\nfunction onSearchNewsBtn(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  // console.log(currentButtonCategory);\n  getNewsByFilter(currentButtonCategory).then(res => {\n\tconst ulEl = document.querySelector('.popular-articles__list');\n    ulEl.replaceChildren(cardMarkup(res));\n    initWeather()\n})\n  // cardMarkup(currentButtonCategory);\n};\n\nfunction onSearchNewsMenu(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  const currentButtonValue = event.target.innerText;\n  // console.log(currentButtonCategory);\n  \n  getNewsByFilter(currentButtonCategory).then(res => {\n    const ulEl = document.querySelector('.popular-articles__list');\n    ulEl.replaceChildren(cardMarkup(res));\n    initWeather()\n  });\n  // cardMarkup(currentButtonCategory);\n \n\n  markupNameButton(decodeURIComponent(currentButtonValue));\n  categoriesMenu.classList.remove('is-open-categories');\n\n  arrowBtnCategories.classList.add('open-categories');\n  categoriesBtn.focus();\n}\n// =====================================\n\nconst apiKey = '3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\n\nasync function getNewsByFilter(currentButtonCategory) {\n  const category = currentButtonCategory;\n  // console.log(category);\n\tconst response = await fetch(`https://api.nytimes.com/svc/news/v3/content/nyt/${category}.json?api-key=${apiKey}`);\n\tconst data = await response.json();\n\tconst { results } = data;\n\tconst resultArticles = []\n\n\t// console.log(results)\n\tconst image = results[0].multimedia[2].url;\n  // console.log(image);\n  // ========================\n\t// let metadata = 'media-metadata';\n\t// console.log(results[0].media[0]['media-metadata'][2].url);\n\n\tconst articles = results.map(({ title, url, published_date, abstract, section, id }) => {\n\t\t// const image = media[0]['media-metadata'][2].url;\n\t\t// console.log(image);\n\t\tconst article = {\n\t\theadline: title,\n\t\tweb_url: url, \n      pub_date: published_date,\n      lead_paragraph: abstract,\n      news_desk: section, \n      bigMobileImg: 'https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg',\n      // smallMobileImg: image,\n      // smallSquareImg: image,\n      // bigSquareImg: image,\n      id: id\n\t\t}\n\n\t\tresultArticles.push(article);\n  } ); \n\t// console.log(resultArticles);\n\treturn resultArticles;\n}\n\n// getNewsByFilter().then(res => {\n// \tconst ulEl = document.querySelector('.popular-articles__list');\n// \tulEl.replaceChildren(cardMarkup(res));\n// })","import axios from \"axios\";\r\nconst KEY = 'api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\r\nconst BASE_URL = 'https://api.nytimes.com/svc';\r\nconst MOST_POPULAR_NEWS = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?${KEY}`;\r\n\r\n// Пошук популярних новин\r\nasync function getPopularArticle() {\r\n    const articleFetch = await fetch(MOST_POPULAR_NEWS);\r\n    const articles = await articleFetch.json();\r\n    let { results } = articles;\r\n    // console.log(results);\r\n    return results;\r\n}\r\n\r\n// Пошук категорій\r\nasync function getCategoryList() {\r\n    const categoryList = await fetch(\r\n        `${BASE_URL}/news/v3/content/section-list.json?${KEY}`\r\n    );\r\n    const categories = await categoryList.json();\r\n    let { results } = categories;\r\n\r\n    // console.log(results);\r\n\r\n    return results;\r\n}\r\n\r\n\r\n// Пошук за запитом по Search\r\nlet sumPage;\r\nasync function getSearchArticle(value, page) {\r\n    let dateForUrl = '';\r\n    try {\r\n        let date = JSON.parse(localStorage.getItem('date'))\r\n            .replace('/', '')\r\n            .replace('/', '');\r\n        // console.log(date);\r\n        dateForUrl = `&begin_date=${date}&end_date=${date}`;\r\n    } catch (error) {\r\n        // dateForUrl = '';\r\n    }\r\n    const articleFetch = await fetch(\r\n        `${BASE_URL}/search/v2/articlesearch.json?q=${value}&${KEY}&page=${page}${dateForUrl}`\r\n    );\r\n    const articles = await articleFetch.json();\r\n\r\n    let { response, errors } = articles;\r\n\r\n    if (errors) {\r\n        alert(JSON.parse(errors));\r\n        return;\r\n    }\r\n\r\n    if (response.meta.hits > 1000) {\r\n        sumPage = 1000;\r\n    } else {\r\n        sumPage = response.meta.hits;\r\n    }\r\n    // console.log(response.meta.hits);\r\n    let { docs } = response;\r\n    // console.log(docs);\r\n\r\n    return docs;\r\n}\r\n\r\nasync function getArticleByCategory(value) {\r\n    try {\r\n        let newValue = encodeURIComponent(value);\r\n\r\n        const articleFetch = await fetch(\r\n            `${BASE_URL}/news/v3/content/all/${newValue}.json?${KEY}&limit=30`\r\n        );\r\n\r\n        const articles = await articleFetch.json();\r\n\r\n        let { results } = articles;\r\n\r\n        console.log(results);\r\n        return results;\r\n    } catch (error) {\r\n        console.log('Ooops we have a problem');\r\n    }\r\n}\r\n\r\n\r\n\r\nexport {\r\n    getCategoryList,\r\n    getPopularArticle,\r\n    getArticleByCategory,\r\n    getSearchArticle,\r\n    sumPage,\r\n};\r\n\r\n// !!!Виклики функцій працюють\r\n// getPopularArticle();\r\n// getCategoryList();\r\n// для getArticleByCategory вввести значення з масиву getCategoryList() \"name\";\r\n// getArticleByCategory(\"books\");\r\n// getSearchArticle(\"chatgpt\", 1);\r\n","import { getCategoryList } from './api/fetchApi.js';\n\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\n\n export async function markupCategories(categoriesMenu) {\n    try {\n        const getCategories = await getCategoryList();\n        const categories = getCategories;\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesList.innerHTML = '';\n            categoriesMenu.innerHTML = renderingOthers(categories);\n        }\n        if (window.matchMedia('(min-width: 768px) and (max-width: 1279px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 4);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n        if (window.matchMedia('(min-width: 1280px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 6);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n    } catch {\n        console.log(error);\n    }\n};\n\n export function markupNameButton(currentButton) {\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n        if (currentButton.length < 18) {\n            categoriesBtn.firstChild.textContent = currentButton;\n        }\n        else {\n            const newNameButton = `${currentButton.slice(0, 15)}...`\n            categoriesBtn.firstChild.textContent = newNameButton;\n        }\n    } else {\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Categories';\n        }\n        if (window.matchMedia('(min-width: 768px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Others';\n        }\n    }\n};\n\nfunction renderingOthers(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=${encoded(section)}>${display_name}</button>\n            </li>`;\n    }).join(' ');\n};\n\nfunction renderingButtons(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=${encoded(section)}>\n        ${display_name}</button>\n        </li>`;\n    }).join(' ');\n}\n\nfunction divideArrNews(categories, count) {\n  const categoriesArrs = [];\n  categoriesArrs.push(categories.slice(0, count));\n  categoriesArrs.push(categories.slice(count));\n  return categoriesArrs;\n};\n\nfunction encoded(string) {\n    return encodeURIComponent(string);\n};\n"],"names":["$b7c37e8f14632f7d$var$apiKey","$b7c37e8f14632f7d$var$KELVIN","$b7c37e8f14632f7d$export$fe12e2131efe2516","document","querySelector","innerHTML","tempElement","descElement","locationElement","iconElement","dayElement","dateElement","button","weatherWeek","weatherCurrent","closeBtn","weatherWeekDayForecast","addEventListener","e","preventDefault","classList","add","contains","remove","date1","Date","currentdate","toLocaleDateString","day","month","year","getDay","weather","temperature","value","unit","description","iconId","city","country","concat","data","insertAdjacentHTML","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","api","fetch","then","response","json","Math","floor","main","temp","icon","name","sys","getWeather","newKey","API_URL","dataArray","list","groupedData","i","length","date","dt_txt","slice","minTemp","maxTemp","console","log","Object","keys","forEach","_$data","dateValue","formattedDate","toLocaleString","minTempValue","maxTempValue","weatherValue","listItem","createElement","appendChild","catch","error","forecast","$bpxeT","parcelRequire","$20fba14b5e95ec63$var$KEY","$20fba14b5e95ec63$var$BASE_URL","$20fba14b5e95ec63$export$97875efe23d1d9ba","$20fba14b5e95ec63$var$_getCategoryList","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","categoryList","categories","results","_ctx","sent","$41015498e6327598$var$categoriesList","$41015498e6327598$var$categoriesBtn","$41015498e6327598$var$categoriesMenu","$41015498e6327598$var$_markupCategories","categoriesMenu1","getCategories","categoriesArrs","categoriesArrs1","window","matchMedia","matches","$41015498e6327598$var$renderingOthers","$41015498e6327598$var$divideArrNews","$41015498e6327598$var$renderingButtons","$41015498e6327598$export$dd65ee2fe100f391","currentButton","firstChild","textContent","newNameButton","map","param","section","display_name","$41015498e6327598$var$encoded","join","count","push","string","encodeURIComponent","$15b062970a4efaa7$var$categoriesList","$15b062970a4efaa7$var$categoriesBtn","$15b062970a4efaa7$var$categoriesMenu","$15b062970a4efaa7$var$arrowBtnCategories","event","$15b062970a4efaa7$var$getNewsByFilter","target","dataset","btn","res","replaceChildren","$7iFtI","default","$fMavV","initWeather","isMenuOpen","getAttribute","setAttribute","toggle","blur","currentButtonCategory","currentButtonValue","innerText","decodeURIComponent","focus","onclick","$15b062970a4efaa7$var$apiKey","$15b062970a4efaa7$var$_getNewsByFilter","category","resultArticles","multimedia","url","article","headline","title","web_url","pub_date","published_date","lead_paragraph","abstract","news_desk","bigMobileImg","id"],"version":3,"file":"index.68307688.js.map"}