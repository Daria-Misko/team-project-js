!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},n.parcelRequired7c6=i);var r=i("bpxeT"),o=i("2TvXO"),c=i("7iFtI"),s="73bd6bca6bd522830119f0c6decba840",d=273;function l(){document.querySelector(".card__item--weather").innerHTML='<div class="weather-container__all">\n  <div class="weather-container">\n    <div class="weather-current__container">\n      <div class="weather-top-card">\n        <div class="temperature-value animate__animated animate__fadeInUp">\n          <p></p>\n        </div>\n        <div class="description-wrapper">\n          <div\n            class="temperature-description animate__animated animate__fadeInUp"\n          >\n            <p>weather description</p>\n          </div>\n          <div class="location animate__animated animate__fadeInUp">\n            <p>Location</p>\n          </div>\n        </div>\n      </div>\n      <div class="weather-icon">\n        <img\n          src="/src/images/svg/unknown.png"\n          alt=""\n          height="155"\n          width="165"\n        />\n      </div>\n      <div class="day animate__animated animate__fadeInUp">\n        <p></p>\n      </div>\n      <div class="date animate__animated animate__fadeInUp">\n        <p></p>\n      </div>\n      <div class="week-weather animate__animated animate__fadeInUp">\n        <button class="weather-button" type="button">weather for week</button>\n      </div>\n    </div>\n  </div>\n  <div class="weather-week__container">\n    <div class="weather-week__list">\n      <p>Weather for week</p>\n      <ul class="weather-week__forecast">\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n      </ul>\n    </div>\n    <div class="date animate__animated animate__fadeInUp">\n      <button class="weather-week-close-button" type="button">back</button>\n    </div>\n  </div>\n</div>';var e=document.querySelector(".temperature-value p"),n=document.querySelector(".temperature-description p"),t=document.querySelector(".location p"),a=document.querySelector(".weather-icon"),i=document.querySelector(".day p"),r=document.querySelector(".date p"),o=document.querySelector(".weather-button"),c=document.querySelector(".weather-week__container"),l=document.querySelector(".weather-current__container"),u=document.querySelector(".weather-week-close-button"),p=document.querySelector(".weather-week__forecast");o.addEventListener("click",(function(e){e.preventDefault(),l.classList.add("is-hidden"),c.classList.contains("is-hidden")&&c.classList.remove("is-hidden")})),u.addEventListener("click",(function(e){e.preventDefault(),c.classList.add("is-hidden"),l.classList.contains("is-hidden")&&l.classList.remove("is-hidden")}));var m=new Date,h=m.toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"}),v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m.getDay()],f={temperature:{value:"",unit:"celsius"},description:"",iconId:"",city:"",country:"",day:"".concat(m),data:"".concat(v)};i.insertAdjacentHTML("beforeend","".concat(v)),r.insertAdjacentHTML("beforeend","".concat(h)),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(i){if(i&&i.coords){var r=i.coords.latitude,o=i.coords.longitude;!function(i,r){var o="http://api.openweathermap.org/data/2.5/weather?lat=".concat(i,"&lon=").concat(r,"&appid=").concat(s);fetch(o).then((function(e){return e.json()})).then((function(e){f.temperature.value=Math.floor(e.main.temp-d),f.description=e.weather[0].description,f.iconId=e.weather[0].icon,f.city=e.name,f.country=e.sys.country})).then((function(){a.innerHTML='<img src="http://openweathermap.org/img/wn/'.concat(f.iconId,'@4x.png" height= "155"\n\twidth= "165"/>'),e.insertAdjacentHTML("beforeend","".concat(f.temperature.value,"Â°")),n.innerHTML="".concat(f.description),t.innerHTML="".concat(f.city)}))}(r,o),function(e,n){var t="ba7fddf449339701f9df702aeb87be1d",a="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(n,"&appid=").concat(t);fetch(a).then((function(e){return e.json()})).then((function(e){for(var n=e.list,t={},a=0;a<n.length;a++){var i=n[a].dt_txt.slice(0,10);t[i]?(n[a].main.temp<t[i].minTemp&&(t[i].minTemp=n[a].main.temp),n[a].main.temp>t[i].maxTemp&&(t[i].maxTemp=n[a].main.temp)):t[i]={date:i,minTemp:n[a].main.temp,maxTemp:n[a].main.temp,weather:n[a].weather[0].description}}console.log(t);p.innerHTML="",Object.keys(t).forEach((function(e){var n=t[e],a=n.date,i=new Date(a).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric"}),r=Math.floor(n.minTemp-d),o=Math.floor(n.maxTemp-d),c=n.weather,s=document.createElement("li");s.classList.add("weather-week__item"),s.innerHTML='<span class="weather-week__value">'.concat(i,'</span>:<br> Min. temp: <span class="weather-week__value">').concat(r,'</span>, Max. temp: <span class="weather-week__value">').concat(o,'</span><br> Descr.: <span class="weather-week__value">').concat(c,"</span>"),p.appendChild(s)}))})).catch((function(e){return console.log(e)}))}(r,o)}else console.log("Position data not available.")}),(function(e){console.log("nothing")})):console.log(error),c.classList.add("is-hidden")}var u="3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv";"https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=".concat(u);function p(){return(p=e(r)(e(o).mark((function n(){var t,a,i,r,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.nytimes.com/svc/mostpopular/v2/emailed/7.json?api-key=".concat(u));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,i=a.results,r=[],console.log(i),c=i[0].media[0]["media-metadata"][2].url,console.log(c),i.map((function(e){var n={headline:e.title,web_url:e.url,pub_date:e.published_date,lead_paragraph:e.abstract,news_desk:e.section,bigMobileImg:"https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg",id:e.id};r.push(n)})),console.log(r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),n)})))).apply(this,arguments)}(function(){return p.apply(this,arguments)})().then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,c.default)(e)),l()}))}();
//# sourceMappingURL=index.95deb3d6.js.map
