!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a=i("bpxeT"),s=i("2TvXO"),c=(i("bpxeT"),i("2TvXO"),a=i("bpxeT"),s=i("2TvXO"),"api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),o="https://api.nytimes.com/svc";"https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?".concat(c);function u(){return l.apply(this,arguments)}function l(){return(l=e(a)(e(s).mark((function t(){var n,r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/news/v3/content/section-list.json?").concat(c));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,i=r.results,e.abrupt("return",i);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var d=document.querySelector(".buttons-list"),p=document.querySelector("#btn-open-category"),m=document.querySelector(".category__menu");function f(){return(f=e(a)(e(s).mark((function t(n){var r,i,a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:r=e.sent,i=r,window.matchMedia("(max-width: 767px)").matches&&(d.innerHTML="",n.innerHTML=v(i)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches&&(d.innerHTML="",a=b(i,4),n.innerHTML=v(a[1]),d.insertAdjacentHTML("beforeend",g(a[0]))),window.matchMedia("(min-width: 1280px)").matches&&(d.innerHTML="",c=b(i,6),n.innerHTML=v(c[1]),d.insertAdjacentHTML("beforeend",g(c[0]))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(error);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function h(e){if(m.classList.contains("is-open-categories"))if(m.classList.remove("is-open-categories"),e.length<18)p.firstChild.textContent=e;else{var t="".concat(e.slice(0,15),"...");p.firstChild.textContent=t}else window.matchMedia("(max-width: 767px)").matches&&(p.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(p.firstChild.textContent="Others")}function v(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=".concat(w(t),">").concat(n,"</button>\n            </li>")})).join(" ")}function g(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=".concat(w(t),">\n        ").concat(n,"</button>\n        </li>")})).join(" ")}function b(e,t){var n=[];return n.push(e.slice(0,t)),n.push(e.slice(t)),n}function w(e){return encodeURIComponent(e)}var x=i("7iFtI"),y=i("fMavV"),L=document.querySelector(".buttons-list"),_=document.querySelector("#btn-open-category"),T=document.querySelector(".category__menu"),M=document.querySelector(".arrow-icon");!function(e){f.apply(this,arguments)}(T),h(),L.addEventListener("click",(function(e){q(e.target.dataset.btn).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,x.default)(e)),(0,y.initWeather)()}))})),_.addEventListener("click",(function(){var e="true"===_.getAttribute("aria-expanded")||!1;_.setAttribute("aria-expanded",!e),T.classList.toggle("is-open-categories"),T.classList.contains("is-open-categories")&&M.classList.add("open-categories");T.classList.contains("is-open-categories")||(M.classList.remove("open-categories"),_.blur())})),T.addEventListener("click",(function(e){var t=e.target.dataset.btn,n=e.target.innerText;q(t).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,x.default)(e)),(0,y.initWeather)()})),h(decodeURIComponent(n)),T.classList.remove("is-open-categories"),M.classList.add("open-categories"),_.focus()})),window.onclick=function(e){e.target.matches(".category__btn")||e.target.matches(".btn-item")||T.classList.contains("is-open-categories")&&T.classList.remove("is-open-categories"),e.target.matches(".category__btn")||M.classList.contains("open-categories")&&M.classList.remove("open-categories")};var C="3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv";function q(e){return k.apply(this,arguments)}function k(){return(k=e(a)(e(s).mark((function t(n){var r,i,a,c,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,e.next=3,fetch("https://api.nytimes.com/svc/news/v3/content/nyt/".concat(r,".json?api-key=").concat(C));case 3:return i=e.sent,e.next=6,i.json();case 6:return a=e.sent,c=a.results,o=[],c[0].multimedia[2].url,c.map((function(e){var t={headline:e.title,web_url:e.url,pub_date:e.published_date,lead_paragraph:e.abstract,news_desk:e.section,bigMobileImg:"https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg",id:e.id};o.push(t)})),e.abrupt("return",o);case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}}();
//# sourceMappingURL=index.eac248ce.js.map
