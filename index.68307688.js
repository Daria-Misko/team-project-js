!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i.register("fMavV",(function(e,t){var n,a,i,r;n=e.exports,a="initWeather",i=function(){return s},Object.defineProperty(n,a,{get:i,set:r,enumerable:!0,configurable:!0});var c="73bd6bca6bd522830119f0c6decba840",o=273;function s(){document.querySelector(".card__item--weather").innerHTML='<div class="weather-container__all">\n  <div class="weather-container">\n    <div class="weather-current__container">\n      <div class="weather-top-card">\n        <div class="temperature-value animate__animated animate__fadeInUp">\n          <p></p>\n        </div>\n        <div class="description-wrapper">\n          <div\n            class="temperature-description animate__animated animate__fadeInUp"\n          >\n            <p>weather description</p>\n          </div>\n          <div class="location animate__animated animate__fadeInUp">\n            <p>Location</p>\n          </div>\n        </div>\n      </div>\n      <div class="weather-icon">\n        <img\n          src="/src/images/svg/unknown.png"\n          alt=""\n          height="155"\n          width="165"\n        />\n      </div>\n      <div class="day animate__animated animate__fadeInUp">\n        <p></p>\n      </div>\n      <div class="date animate__animated animate__fadeInUp">\n        <p></p>\n      </div>\n      <div class="week-weather animate__animated animate__fadeInUp">\n        <button class="weather-button" type="button">weather for week</button>\n      </div>\n    </div>\n  </div>\n  <div class="weather-week__container">\n    <div class="weather-week__list">\n      <p>Weather for week</p>\n      <ul class="weather-week__forecast">\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n        <li></li>\n      </ul>\n    </div>\n    <div class="date animate__animated animate__fadeInUp">\n      <button class="weather-week-close-button" type="button">back</button>\n    </div>\n  </div>\n</div>';var e=document.querySelector(".temperature-value p"),t=document.querySelector(".temperature-description p"),n=document.querySelector(".location p"),a=document.querySelector(".weather-icon"),i=document.querySelector(".day p"),r=document.querySelector(".date p"),s=document.querySelector(".weather-button"),d=document.querySelector(".weather-week__container"),u=document.querySelector(".weather-current__container"),l=document.querySelector(".weather-week-close-button"),p=document.querySelector(".weather-week__forecast");s.addEventListener("click",(function(e){e.preventDefault(),u.classList.add("is-hidden"),d.classList.contains("is-hidden")&&d.classList.remove("is-hidden")})),l.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("is-hidden"),u.classList.contains("is-hidden")&&u.classList.remove("is-hidden")}));var m=new Date,h=m.toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"}),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][m.getDay()],v={temperature:{value:"",unit:"celsius"},description:"",iconId:"",city:"",country:"",day:"".concat(m),data:"".concat(f)};i.insertAdjacentHTML("beforeend","".concat(f)),r.insertAdjacentHTML("beforeend","".concat(h)),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(i){if(i&&i.coords){var r=i.coords.latitude,s=i.coords.longitude;!function(i,r){var s="http://api.openweathermap.org/data/2.5/weather?lat=".concat(i,"&lon=").concat(r,"&appid=").concat(c);fetch(s).then((function(e){return e.json()})).then((function(e){v.temperature.value=Math.floor(e.main.temp-o),v.description=e.weather[0].description,v.iconId=e.weather[0].icon,v.city=e.name,v.country=e.sys.country})).then((function(){a.innerHTML='<img src="http://openweathermap.org/img/wn/'.concat(v.iconId,'@4x.png" height= "155"\n\twidth= "165"/>'),e.insertAdjacentHTML("beforeend","".concat(v.temperature.value,"Â°")),t.innerHTML="".concat(v.description),n.innerHTML="".concat(v.city)}))}(r,s),function(e,t){var n="ba7fddf449339701f9df702aeb87be1d",a="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(n);fetch(a).then((function(e){return e.json()})).then((function(e){for(var t=e.list,n={},a=0;a<t.length;a++){var i=t[a].dt_txt.slice(0,10);n[i]?(t[a].main.temp<n[i].minTemp&&(n[i].minTemp=t[a].main.temp),t[a].main.temp>n[i].maxTemp&&(n[i].maxTemp=t[a].main.temp)):n[i]={date:i,minTemp:t[a].main.temp,maxTemp:t[a].main.temp,weather:t[a].weather[0].description}}console.log(n);p.innerHTML="",Object.keys(n).forEach((function(e){var t=n[e],a=t.date,i=new Date(a).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric"}),r=Math.floor(t.minTemp-o),c=Math.floor(t.maxTemp-o),s=t.weather,d=document.createElement("li");d.classList.add("weather-week__item"),d.innerHTML='<span class="weather-week__value">'.concat(i,'</span>:<br> Min. temp: <span class="weather-week__value">').concat(r,'</span>, Max. temp: <span class="weather-week__value">').concat(c,'</span><br> Descr.: <span class="weather-week__value">').concat(s,"</span>"),p.appendChild(d)}))})).catch((function(e){return console.log(e)}))}(r,s)}else console.log("Position data not available.")}),(function(e){console.log("nothing")})):console.log(error),d.classList.add("is-hidden")}}));var r=i("bpxeT"),c=i("2TvXO"),o=(i("bpxeT"),i("2TvXO"),r=i("bpxeT"),c=i("2TvXO"),"api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),s="https://api.nytimes.com/svc";"https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?".concat(o);function d(){return u.apply(this,arguments)}function u(){return(u=e(r)(e(c).mark((function t(){var n,a,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"/news/v3/content/section-list.json?").concat(o));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,i=a.results,e.abrupt("return",i);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var l=document.querySelector(".buttons-list"),p=document.querySelector("#btn-open-category"),m=document.querySelector(".category__menu");function h(){return(h=e(r)(e(c).mark((function t(n){var a,i,r,o;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:a=e.sent,i=a,window.matchMedia("(max-width: 767px)").matches&&(l.innerHTML="",n.innerHTML=v(i)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches&&(l.innerHTML="",r=_(i,4),n.innerHTML=v(r[1]),l.insertAdjacentHTML("beforeend",w(r[0]))),window.matchMedia("(min-width: 1280px)").matches&&(l.innerHTML="",o=_(i,6),n.innerHTML=v(o[1]),l.insertAdjacentHTML("beforeend",w(o[0]))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(error);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function f(e){if(m.classList.contains("is-open-categories"))if(m.classList.remove("is-open-categories"),e.length<18)p.firstChild.textContent=e;else{var t="".concat(e.slice(0,15),"...");p.firstChild.textContent=t}else window.matchMedia("(max-width: 767px)").matches&&(p.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(p.firstChild.textContent="Others")}function v(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=".concat(g(t),">").concat(n,"</button>\n            </li>")})).join(" ")}function w(e){return e.map((function(e){var t=e.section,n=e.display_name;return"<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=".concat(g(t),">\n        ").concat(n,"</button>\n        </li>")})).join(" ")}function _(e,t){var n=[];return n.push(e.slice(0,t)),n.push(e.slice(t)),n}function g(e){return encodeURIComponent(e)}var b=i("7iFtI"),y=i("fMavV"),L=document.querySelector(".buttons-list"),x=document.querySelector("#btn-open-category"),T=document.querySelector(".category__menu"),k=document.querySelector(".arrow-icon");!function(e){h.apply(this,arguments)}(T),f(),L.addEventListener("click",(function(e){S(e.target.dataset.btn).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(e)),(0,y.initWeather)()}))})),x.addEventListener("click",(function(){var e="true"===x.getAttribute("aria-expanded")||!1;x.setAttribute("aria-expanded",!e),T.classList.toggle("is-open-categories"),T.classList.contains("is-open-categories")&&k.classList.add("open-categories");T.classList.contains("is-open-categories")||(k.classList.remove("open-categories"),x.blur())})),T.addEventListener("click",(function(e){var t=e.target.dataset.btn,n=e.target.innerText;S(t).then((function(e){document.querySelector(".popular-articles__list").replaceChildren((0,b.default)(e)),(0,y.initWeather)()})),f(decodeURIComponent(n)),T.classList.remove("is-open-categories"),k.classList.add("open-categories"),x.focus()})),window.onclick=function(e){e.target.matches(".category__btn")||e.target.matches(".btn-item")||T.classList.contains("is-open-categories")&&T.classList.remove("is-open-categories"),e.target.matches(".category__btn")||k.classList.contains("open-categories")&&k.classList.remove("open-categories")};var M="3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv";function S(e){return q.apply(this,arguments)}function q(){return(q=e(r)(e(c).mark((function t(n){var a,i,r,o,s;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,e.next=3,fetch("https://api.nytimes.com/svc/news/v3/content/nyt/".concat(a,".json?api-key=").concat(M));case 3:return i=e.sent,e.next=6,i.json();case 6:return r=e.sent,o=r.results,s=[],o[0].multimedia[2].url,o.map((function(e){var t={headline:e.title,web_url:e.url,pub_date:e.published_date,lead_paragraph:e.abstract,news_desk:e.section,bigMobileImg:"https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg",id:e.id};s.push(t)})),e.abrupt("return",s);case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}}();
//# sourceMappingURL=index.68307688.js.map
