{"mappings":"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","sources":["src/js/weather.js","src/js/api/fetchApi.js","src/js/markupCategoriesFilter.js","src/js/showCategories.js"],"sourcesContent":["\r\nconst apiKey = \"73bd6bca6bd522830119f0c6decba840\";\r\nconst KELVIN = 273;\r\n\r\nexport function initWeather() {\r\n\tconst weatherContainer = document.querySelector(\".card__item--weather\")\r\nweatherContainer.innerHTML = `<div class=\"weather-container__all\">\r\n  <div class=\"weather-container\">\r\n    <div class=\"weather-current__container\">\r\n      <div class=\"weather-top-card\">\r\n        <div class=\"temperature-value animate__animated animate__fadeInUp\">\r\n          <p></p>\r\n        </div>\r\n        <div class=\"description-wrapper\">\r\n          <div\r\n            class=\"temperature-description animate__animated animate__fadeInUp\"\r\n          >\r\n            <p>weather description</p>\r\n          </div>\r\n          <div class=\"location animate__animated animate__fadeInUp\">\r\n            <p>Location</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"weather-icon\">\r\n        <img\r\n          src=\"/src/images/svg/unknown.png\"\r\n          alt=\"\"\r\n          height=\"155\"\r\n          width=\"165\"\r\n        />\r\n      </div>\r\n      <div class=\"day animate__animated animate__fadeInUp\">\r\n        <p></p>\r\n      </div>\r\n      <div class=\"date animate__animated animate__fadeInUp\">\r\n        <p></p>\r\n      </div>\r\n      <div class=\"week-weather animate__animated animate__fadeInUp\">\r\n        <button class=\"weather-button\" type=\"button\">weather for week</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"weather-week__container\">\r\n    <div class=\"weather-week__list\">\r\n      <p>Weather for week</p>\r\n      <ul class=\"weather-week__forecast\">\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n        <li></li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"date animate__animated animate__fadeInUp\">\r\n      <button class=\"weather-week-close-button\" type=\"button\">back</button>\r\n    </div>\r\n  </div>\r\n</div>`\r\n\r\n\r\nconst tempElement = document.querySelector(\".temperature-value p\");\r\nconst descElement = document.querySelector(\".temperature-description p\");\r\nconst locationElement = document.querySelector(\".location p\");\r\nconst iconElement = document.querySelector(\".weather-icon\");\r\nconst dayElement = document.querySelector(\".day p\");\r\nconst dateElement = document.querySelector(\".date p\");\r\nconst button = document.querySelector(\".weather-button\");\r\nconst weatherWeek = document.querySelector(\".weather-week__container\");\r\nconst weatherCurrent = document.querySelector(\".weather-current__container\");\r\nconst closeBtn = document.querySelector(\".weather-week-close-button\")\r\nconst weatherWeekDayForecast = document.querySelector(\".weather-week__forecast\")\r\n\r\nbutton.addEventListener('click', onClick)\r\ncloseBtn.addEventListener('click', onClose)\r\n\r\nconst date = new Date()\r\nlet currentdate = date.toLocaleDateString('en-gb', { day: \"numeric\", month: \"short\", year: \"numeric\" })\r\nconst weekday = [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];\r\nlet day = weekday[date.getDay()];\r\n\r\nconst weather = {\r\n\ttemperature: {\r\n\t\tvalue: \"\",\r\n\t\tunit: \"celsius\"\r\n\t},\r\n\tdescription: \"\",\r\n\ticonId: \"\",\r\n\tcity: \"\",\r\n\tcountry: \"\",\r\n\tday: `${date}`,\r\n\tdata: `${day}`\r\n};\r\n\r\ndayElement.insertAdjacentHTML('beforeend', `${day}`); \r\ndateElement.insertAdjacentHTML('beforeend', `${currentdate}`); \r\n\r\nif('geolocation' in navigator){\r\n    navigator.geolocation.getCurrentPosition(setPosition, showError);\r\n}else{\r\n    console.log(error);\r\n}\r\n\r\nfunction setPosition(position) {\r\n\tif (position && position.coords) {\r\n\t\tlet latitude = position.coords.latitude;\r\n\t\tlet longitude = position.coords.longitude;\r\n\r\n\t\tgetWeather(latitude, longitude);\r\n\t\tforecast(latitude, longitude);\r\n\t} else {\r\n\t\tconsole.log(\"Position data not available.\");\r\n\t}\r\n\r\n}\r\n\r\nfunction showError(error) {\r\n\tconsole.log(`nothing`);\r\n   //  notificationElement.style.display = \"block\";\r\n   //  notificationElement.innerHTML = `<p> ${error.message} </p>`;\r\n}\r\n\r\nfunction getWeather(latitude, longitude) {\r\n   let api = `http://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}`;\r\n    \r\n    fetch(api)\r\n        .then(function(response){\r\n            let data = response.json();\r\n\t\t\t  return data;\r\n        })\r\n\t\t .then(function (data) {\r\n\t\t\t// console.log(data);\r\n\t\t\tweather.temperature.value = Math.floor(data.main.temp - KELVIN);\r\n\t\t\tweather.description = data.weather[0].description;\r\n\t\t\tweather.iconId = data.weather[0].icon;\r\n\t\t\tweather.city = data.name;\r\n\t\t\tweather.country = data.sys.country;\r\n        })\r\n        .then(function(){\r\n            displayWeather();\r\n        });\r\n}\r\n\r\nfunction displayWeather() {\r\n   iconElement.innerHTML = `<img src=\"http://openweathermap.org/img/wn/${weather.iconId}@4x.png\" height= \"155\"\r\n\twidth= \"165\"/>`;\r\n   tempElement.insertAdjacentHTML('beforeend', `${weather.temperature.value}Â°`);\r\n   descElement.innerHTML = `${weather.description}`;\r\n\tlocationElement.innerHTML = `${weather.city}`;\r\n}\r\n\r\n\r\n\r\nfunction forecast(latitude, longitude) {\r\n\tconst newKey = 'ba7fddf449339701f9df702aeb87be1d'\r\n\tconst API_URL = `http://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${newKey}`;\r\n    \r\n\tfetch(API_URL)\r\n  .then(response => response.json())\r\n  .then(data => {\r\n\t  const dataArray = data.list;\r\n\t  const groupedData = {};\r\n\t  for (let i = 0; i < dataArray.length; i++) {\r\n      const date = dataArray[i].dt_txt.slice(0, 10);\r\n      if (!groupedData[date]) {\r\n\t\t\tgroupedData[date] = {\r\n\t\t\tdate: date,\r\n          minTemp: dataArray[i].main.temp,\r\n          maxTemp: dataArray[i].main.temp,\r\n          weather: dataArray[i].weather[0].description\r\n        };\r\n      } else {\r\n        if (dataArray[i].main.temp < groupedData[date].minTemp) {\r\n          groupedData[date].minTemp = dataArray[i].main.temp;\r\n        }\r\n        if (dataArray[i].main.temp > groupedData[date].maxTemp) {\r\n          groupedData[date].maxTemp = dataArray[i].main.temp;\r\n        }\r\n      }\r\n    }\r\n\t  console.log(groupedData);\r\n\r\n\t  const groupedDataPerDay = {\r\n  \"2022-03-05\": {\r\n    date: \"2022-03-05\",\r\n    minTemp: 5,\r\n    maxTemp: 10,\r\n    weather: \"Cloudy\"\r\n\t \r\n  },\r\n  \"2022-03-06\": {\r\n    date: \"2022-03-06\",\r\n    minTemp: 8,\r\n    maxTemp: 12,\r\n    weather: \"Rainy\"\r\n  }\r\n};\r\nweatherWeekDayForecast.innerHTML = '';\r\n// Ð¿ÐµÑÐµÐ±Ð¸ÑÐ°ÑÐ¼Ð¾ ÐºÐ»ÑÑÑ Ð² Ð¾Ð±'ÑÐºÑÑ\r\n\t  Object.keys(groupedData).forEach(date => {\r\n\t\t  const data = groupedData[date];\r\n\t\t  const dateValue = data.date;\r\n\t\t  \r\n\t\t\tconst datePotoch = new Date(dateValue);\r\n\t\t\tconst formattedDate = datePotoch.toLocaleString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });\r\n\r\n  \t\t\tconst minTempValue = Math.floor(data.minTemp - KELVIN);\r\n  \t\t\tconst maxTempValue = Math.floor(data.maxTemp - KELVIN);\r\n\t\t  \tconst weatherValue = data.weather;\r\n  \r\n\t\t  \r\n\t\t//   console.log(`ÐÐ°ÑÐ°: ${formattedDate}, ÐÑÐ½ÑÐ¼Ð°Ð»ÑÐ½Ð° ÑÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÐ°: ${minTempValue}, ÐÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑÐ½Ð° ÑÐµÐ¼Ð¿ÐµÑÐ°ÑÑÑÐ°: ${maxTempValue}, ÐÐ¿Ð¸Ñ Ð¿Ð¾Ð³Ð¾Ð´Ð¸: ${weatherValue}`);\r\n\t\t  \r\n\t\t  const listItem = document.createElement('li');\r\n\t\t  listItem.classList.add('weather-week__item')\r\n        listItem.innerHTML = `<span class=\"weather-week__value\">${formattedDate}</span>:<br> Min. temp: <span class=\"weather-week__value\">${minTempValue}</span>, Max. temp: <span class=\"weather-week__value\">${maxTempValue}</span><br> Descr.: <span class=\"weather-week__value\">${weatherValue}</span>`;\r\n        weatherWeekDayForecast.appendChild(listItem);\r\n\r\n});\r\n\r\n\t  \r\n\t  \r\n\t  \r\n  })  \r\n  .catch(error => console.log(error));\r\n\t}\r\n\r\n\tweatherWeek.classList.add('is-hidden');\r\n\r\nfunction onClick(e) {\r\n\te.preventDefault();\r\n\tweatherCurrent.classList.add('is-hidden');\r\n\tif (weatherWeek.classList.contains('is-hidden')) {\r\n\t\tweatherWeek.classList.remove('is-hidden')\r\n\t}\r\n}\r\n\r\nfunction onClose(e) {\r\n\te.preventDefault();\r\n\tweatherWeek.classList.add('is-hidden');\r\n\tif (weatherCurrent.classList.contains('is-hidden')) {\r\n\t\tweatherCurrent.classList.remove('is-hidden')\r\n\t}\r\n}\r\n}","import axios from \"axios\";\r\nconst KEY = 'api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\r\nconst BASE_URL = 'https://api.nytimes.com/svc';\r\nconst MOST_POPULAR_NEWS = `https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?${KEY}`;\r\n\r\n// ÐÐ¾ÑÑÐº Ð¿Ð¾Ð¿ÑÐ»ÑÑÐ½Ð¸Ñ Ð½Ð¾Ð²Ð¸Ð½\r\nasync function getPopularArticle() {\r\n    const articleFetch = await fetch(MOST_POPULAR_NEWS);\r\n    const articles = await articleFetch.json();\r\n    let { results } = articles;\r\n    // console.log(results);\r\n    return results;\r\n}\r\n\r\n// ÐÐ¾ÑÑÐº ÐºÐ°ÑÐµÐ³Ð¾ÑÑÐ¹\r\nasync function getCategoryList() {\r\n    const categoryList = await fetch(\r\n        `${BASE_URL}/news/v3/content/section-list.json?${KEY}`\r\n    );\r\n    const categories = await categoryList.json();\r\n    let { results } = categories;\r\n\r\n    // console.log(results);\r\n\r\n    return results;\r\n}\r\n\r\n\r\n// ÐÐ¾ÑÑÐº Ð·Ð° Ð·Ð°Ð¿Ð¸ÑÐ¾Ð¼ Ð¿Ð¾ Search\r\nlet sumPage;\r\nasync function getSearchArticle(value, page) {\r\n    let dateForUrl = '';\r\n    try {\r\n        let date = JSON.parse(localStorage.getItem('date'))\r\n            .replace('/', '')\r\n            .replace('/', '');\r\n        // console.log(date);\r\n        dateForUrl = `&begin_date=${date}&end_date=${date}`;\r\n    } catch (error) {\r\n        // dateForUrl = '';\r\n    }\r\n    const articleFetch = await fetch(\r\n        `${BASE_URL}/search/v2/articlesearch.json?q=${value}&${KEY}&page=${page}${dateForUrl}`\r\n    );\r\n    const articles = await articleFetch.json();\r\n\r\n    let { response, errors } = articles;\r\n\r\n    if (errors) {\r\n        alert(JSON.parse(errors));\r\n        return;\r\n    }\r\n\r\n    if (response.meta.hits > 1000) {\r\n        sumPage = 1000;\r\n    } else {\r\n        sumPage = response.meta.hits;\r\n    }\r\n    // console.log(response.meta.hits);\r\n    let { docs } = response;\r\n    // console.log(docs);\r\n\r\n    return docs;\r\n}\r\n\r\nasync function getArticleByCategory(value) {\r\n    try {\r\n        let newValue = encodeURIComponent(value);\r\n\r\n        const articleFetch = await fetch(\r\n            `${BASE_URL}/news/v3/content/all/${newValue}.json?${KEY}&limit=30`\r\n        );\r\n\r\n        const articles = await articleFetch.json();\r\n\r\n        let { results } = articles;\r\n\r\n        console.log(results);\r\n        return results;\r\n    } catch (error) {\r\n        console.log('Ooops we have a problem');\r\n    }\r\n}\r\n\r\n\r\n\r\nexport {\r\n    getCategoryList,\r\n    getPopularArticle,\r\n    getArticleByCategory,\r\n    getSearchArticle,\r\n    sumPage,\r\n};\r\n\r\n// !!!ÐÐ¸ÐºÐ»Ð¸ÐºÐ¸ ÑÑÐ½ÐºÑÑÐ¹ Ð¿ÑÐ°ÑÑÑÑÑ\r\n// getPopularArticle();\r\n// getCategoryList();\r\n// Ð´Ð»Ñ getArticleByCategory Ð²Ð²Ð²ÐµÑÑÐ¸ Ð·Ð½Ð°ÑÐµÐ½Ð½Ñ Ð· Ð¼Ð°ÑÐ¸Ð²Ñ getCategoryList() \"name\";\r\n// getArticleByCategory(\"books\");\r\n// getSearchArticle(\"chatgpt\", 1);\r\n","import { getCategoryList } from './api/fetchApi.js';\n\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\n\n export async function markupCategories(categoriesMenu) {\n    try {\n        const getCategories = await getCategoryList();\n        const categories = getCategories;\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesList.innerHTML = '';\n            categoriesMenu.innerHTML = renderingOthers(categories);\n        }\n        if (window.matchMedia('(min-width: 768px) and (max-width: 1279px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 4);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n        if (window.matchMedia('(min-width: 1280px)').matches) {\n            categoriesList.innerHTML = '';\n            const categoriesArrs = divideArrNews(categories, 6);\n            categoriesMenu.innerHTML = renderingOthers(categoriesArrs[1]);\n            categoriesList.insertAdjacentHTML('beforeend',\n                renderingButtons(categoriesArrs[0]));\n        }\n    } catch {\n        console.log(error);\n    }\n};\n\n export function markupNameButton(currentButton) {\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n        if (currentButton.length < 18) {\n            categoriesBtn.firstChild.textContent = currentButton;\n        }\n        else {\n            const newNameButton = `${currentButton.slice(0, 15)}...`\n            categoriesBtn.firstChild.textContent = newNameButton;\n        }\n    } else {\n        if (window.matchMedia('(max-width: 767px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Categories';\n        }\n        if (window.matchMedia('(min-width: 768px)').matches) {\n            categoriesBtn.firstChild.textContent = 'Others';\n        }\n    }\n};\n\nfunction renderingOthers(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='category__item'>\n        <button class=\"btn-item\"\n            data-btn=${encoded(section)}>${display_name}</button>\n            </li>`;\n    }).join(' ');\n};\n\nfunction renderingButtons(categories) {\n    return categories.map(({ section, display_name }) => {\n        return `<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=${encoded(section)}>\n        ${display_name}</button>\n        </li>`;\n    }).join(' ');\n}\n\nfunction divideArrNews(categories, count) {\n  const categoriesArrs = [];\n  categoriesArrs.push(categories.slice(0, count));\n  categoriesArrs.push(categories.slice(count));\n  return categoriesArrs;\n};\n\nfunction encoded(string) {\n    return encodeURIComponent(string);\n};\n","import { markupCategories, markupNameButton } from './markupCategoriesFilter.js';\nimport cardMarkup from \"./cardMarkup\";\nimport {initWeather} from './weather'\n\nconst categoriesList = document.querySelector('.buttons-list');\nconst categoriesBtn = document.querySelector('#btn-open-category');\nconst categoriesMenu = document.querySelector('.category__menu');\nconst arrowBtnCategories = document.querySelector('.arrow-icon');\n\nmarkupCategories(categoriesMenu);\nmarkupNameButton();\n\ncategoriesList.addEventListener('click', onSearchNewsBtn);\ncategoriesBtn.addEventListener('click', onToggleCategoriesMenu);\ncategoriesMenu.addEventListener('click', onSearchNewsMenu);\n\nfunction onToggleCategoriesMenu() {\n    const isMenuOpen = \n        categoriesBtn.getAttribute('aria-expanded') === 'true' || false;\n    categoriesBtn.setAttribute('aria-expanded', !isMenuOpen);\n    categoriesMenu.classList.toggle('is-open-categories');\n    if (categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.add('open-categories');\n    }\n    if (!categoriesMenu.classList.contains('is-open-categories')) {\n        arrowBtnCategories.classList.remove('open-categories');\n        categoriesBtn.blur();\n    }\n};\n\nwindow.onclick = event => {\n  if (!event.target.matches('.category__btn')) {\n    if (!event.target.matches('.btn-item')) {\n      if (categoriesMenu.classList.contains('is-open-categories')) {\n        categoriesMenu.classList.remove('is-open-categories');\n      }\n    }\n  }\n  if (!event.target.matches('.category__btn')) {\n    if (arrowBtnCategories.classList.contains('open-categories')) {\n      arrowBtnCategories.classList.remove('open-categories');\n    }\n  }\n};\n\nfunction onSearchNewsBtn(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  // console.log(currentButtonCategory);\n  getNewsByFilter(currentButtonCategory).then(res => {\n\tconst ulEl = document.querySelector('.popular-articles__list');\n    ulEl.replaceChildren(cardMarkup(res));\n    initWeather()\n})\n  // cardMarkup(currentButtonCategory);\n};\n\nfunction onSearchNewsMenu(event) {\n  const currentButtonCategory = event.target.dataset.btn;\n  const currentButtonValue = event.target.innerText;\n  // console.log(currentButtonCategory);\n  \n  getNewsByFilter(currentButtonCategory).then(res => {\n    const ulEl = document.querySelector('.popular-articles__list');\n    ulEl.replaceChildren(cardMarkup(res));\n    initWeather()\n  });\n  // cardMarkup(currentButtonCategory);\n \n\n  markupNameButton(decodeURIComponent(currentButtonValue));\n  categoriesMenu.classList.remove('is-open-categories');\n\n  arrowBtnCategories.classList.add('open-categories');\n  categoriesBtn.focus();\n}\n// =====================================\n\nconst apiKey = '3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv';\n\nasync function getNewsByFilter(currentButtonCategory) {\n  const category = currentButtonCategory;\n  // console.log(category);\n\tconst response = await fetch(`https://api.nytimes.com/svc/news/v3/content/nyt/${category}.json?api-key=${apiKey}`);\n\tconst data = await response.json();\n\tconst { results } = data;\n\tconst resultArticles = []\n\n\t// console.log(results)\n\tconst image = results[0].multimedia[2].url;\n  // console.log(image);\n  // ========================\n\t// let metadata = 'media-metadata';\n\t// console.log(results[0].media[0]['media-metadata'][2].url);\n\n\tconst articles = results.map(({ title, url, published_date, abstract, section, id }) => {\n\t\t// const image = media[0]['media-metadata'][2].url;\n\t\t// console.log(image);\n\t\tconst article = {\n\t\theadline: title,\n\t\tweb_url: url, \n      pub_date: published_date,\n      lead_paragraph: abstract,\n      news_desk: section, \n      bigMobileImg: 'https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg',\n      // smallMobileImg: image,\n      // smallSquareImg: image,\n      // bigSquareImg: image,\n      id: id\n\t\t}\n\n\t\tresultArticles.push(article);\n  } ); \n\t// console.log(resultArticles);\n\treturn resultArticles;\n}\n\n// getNewsByFilter().then(res => {\n// \tconst ulEl = document.querySelector('.popular-articles__list');\n// \tulEl.replaceChildren(cardMarkup(res));\n// })"],"names":["$83ee39fa453a4c23$var$apiKey","$83ee39fa453a4c23$var$KELVIN","$83ee39fa453a4c23$export$fe12e2131efe2516","document","querySelector","innerHTML","tempElement","descElement","locationElement","iconElement","dayElement","dateElement","button","weatherWeek","weatherCurrent","addEventListener","Date","date1","toLocaleDateString","day","getDay","weather","temperature","value","unit","currentdate","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","then","response","json","data","Math","floor","main","temp","description","iconId","icon","city","name","country","sys","insertAdjacentHTML","fetch","data1","dataArray","list","groupedData","i","length","date","dt_txt","slice","minTemp","maxTemp","log","error","async","$79e81cc842297628$export$97875efe23d1d9ba","categoryList","categories","results","$218221d0028bb1de$var$categoriesList","$218221d0028bb1de$var$categoriesBtn","$218221d0028bb1de$var$categoriesMenu","$218221d0028bb1de$export$dd65ee2fe100f391","currentButton","classList","contains","remove","firstChild","textContent","newNameButton","window","matchMedia","matches","$218221d0028bb1de$var$renderingOthers","map","section","display_name","$218221d0028bb1de$var$encoded","join","$218221d0028bb1de$var$renderingButtons","$218221d0028bb1de$var$divideArrNews","count","categoriesArrs","push","string","encodeURIComponent","$623dea5653ffed06$var$categoriesList","$623dea5653ffed06$var$categoriesBtn","$623dea5653ffed06$var$categoriesMenu","$623dea5653ffed06$var$arrowBtnCategories","categoriesMenu1","console","event","$623dea5653ffed06$var$getNewsByFilter","target","dataset","btn","res","replaceChildren","$eVqJU","default","$bkgkh","initWeather","isMenuOpen","getAttribute","setAttribute","toggle","add","blur","currentButtonCategory","currentButtonValue","innerText","decodeURIComponent","focus","onclick","category","resultArticles","multimedia","url","title","published_date","abstract","id","article","headline","web_url","pub_date","lead_paragraph","news_desk","bigMobileImg"],"version":3,"file":"index.042fee49.js.map"}