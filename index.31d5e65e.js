var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);async function s(){const e=await fetch("https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv"),t=await e.json();let{results:n}=t;return n}const o=document.querySelector(".buttons-list"),a=document.querySelector("#btn-open-category"),c=document.querySelector(".category__menu");function r(e){if(c.classList.contains("is-open-categories"))if(c.classList.remove("is-open-categories"),e.length<18)a.firstChild.textContent=e;else{const t=`${e.slice(0,15)}...`;a.firstChild.textContent=t}else window.matchMedia("(max-width: 767px)").matches&&(a.firstChild.textContent="Categories"),window.matchMedia("(min-width: 768px)").matches&&(a.firstChild.textContent="Others")}function l(e){return e.map((({section:e,display_name:t})=>`<li class='category__item'>\n        <button class="btn-item"\n            data-btn=${m(e)}>${t}</button>\n            </li>`)).join(" ")}function d(e){return e.map((({section:e,display_name:t})=>`<li class='buttons-list__item'>\n        <button class='buttons-list__button' data-btn=${m(e)}>\n        ${t}</button>\n        </li>`)).join(" ")}function u(e,t){const n=[];return n.push(e.slice(0,t)),n.push(e.slice(t)),n}function m(e){return encodeURIComponent(e)}var p=i("eVqJU"),h=i("bkgkh");const g=document.querySelector(".buttons-list"),f=document.querySelector("#btn-open-category"),b=document.querySelector(".category__menu"),w=document.querySelector(".arrow-icon");!async function(e){try{const t=await s();if(window.matchMedia("(max-width: 767px)").matches&&(o.innerHTML="",e.innerHTML=l(t)),window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches){o.innerHTML="";const n=u(t,4);e.innerHTML=l(n[1]),o.insertAdjacentHTML("beforeend",d(n[0]))}if(window.matchMedia("(min-width: 1280px)").matches){o.innerHTML="";const n=u(t,6);e.innerHTML=l(n[1]),o.insertAdjacentHTML("beforeend",d(n[0]))}}catch{console.log(error)}}(b),r(),g.addEventListener("click",(function(e){y(e.target.dataset.btn).then((e=>{document.querySelector(".popular-articles__list").replaceChildren((0,p.default)(e)),(0,h.initWeather)()}))})),f.addEventListener("click",(function(){const e="true"===f.getAttribute("aria-expanded")||!1;f.setAttribute("aria-expanded",!e),b.classList.toggle("is-open-categories"),b.classList.contains("is-open-categories")&&w.classList.add("open-categories");b.classList.contains("is-open-categories")||(w.classList.remove("open-categories"),f.blur())})),b.addEventListener("click",(function(e){const t=e.target.dataset.btn,n=e.target.innerText;y(t).then((e=>{document.querySelector(".popular-articles__list").replaceChildren((0,p.default)(e)),(0,h.initWeather)()})),r(decodeURIComponent(n)),b.classList.remove("is-open-categories"),w.classList.add("open-categories"),f.focus()})),window.onclick=e=>{e.target.matches(".category__btn")||e.target.matches(".btn-item")||b.classList.contains("is-open-categories")&&b.classList.remove("is-open-categories"),e.target.matches(".category__btn")||w.classList.contains("open-categories")&&w.classList.remove("open-categories")};async function y(e){const t=e,n=await fetch(`https://api.nytimes.com/svc/news/v3/content/nyt/${t}.json?api-key=3HHtrx1v9QZUfdmskYGXIqIWRgxdBdcv`),i=await n.json(),{results:s}=i,o=[];s[0].multimedia[2].url,s.map((({title:e,url:t,published_date:n,abstract:i,section:s,id:a})=>{const c={headline:e,web_url:t,pub_date:n,lead_paragraph:i,news_desk:s,bigMobileImg:"https://static01.nyt.com/images/2023/03/07/multimedia/-01WELL-AGING-EXERCISES21-bzjq/-01WELL-AGING-EXERCISES21-bzjq-mediumThreeByTwo440.jpg",id:a};o.push(c)}));return o}
//# sourceMappingURL=index.31d5e65e.js.map
